{"remainingRequest":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\src\\views\\lostFound\\insertWork.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\src\\views\\lostFound\\insertWork.vue","mtime":1590632324486},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7Zm9ybWF0RGF0ZX0gZnJvbSAnLi4vLi4vYXNzZXRzL2pzL2luZGV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJwYWdlMiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiIiwKICAgICAgY29udGVudHM6ICIiLAogICAgICBtb25leTogIiIsCiAgICAgIHRpbWU6ICIiLAogICAgICBwaWNrZXJPcHRpb25zOiB7CiAgICAgICAgc2hvcnRjdXRzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICLmnIDov5HkuIDlkagiLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOwogICAgICAgICAgICAgIHBpY2tlci4kZW1pdCgicGljayIsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICLmnIDov5HkuIDkuKrmnIgiLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDMwKTsKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoInBpY2siLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0ZXh0OiAi5pyA6L+R5LiJ5Liq5pyIIiwKICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA5MCk7CiAgICAgICAgICAgICAgcGlja2VyLiRlbWl0KCJwaWNrIiwgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgZGlhbG9nSW1hZ2VVcmw6ICIiLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgaW1nOm5ldyBGb3JtRGF0YSgpCiAgICB9OwogIH0sCiAgIGNvbXB1dGVkOnsKICAgIHVzZXJpZDpmdW5jdGlvbigpewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlcmlkCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBjb25zb2xlTG9nKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnRpbWUpOwogICAgfSwKICAgIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICBjb25zb2xlLmxvZyhmaWxlLCBmaWxlTGlzdCk7CiAgICB9LAogICAgaGFuZGxlUGljdHVyZUNhcmRQcmV2aWV3KGZpbGUpIHsKICAgICAgdGhpcy5kaWFsb2dJbWFnZVVybCA9IGZpbGUudXJsOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGdldEltZyhmaWxlKSB7CiAgICAgIHRoaXMuaW1nLmFwcGVuZCgnZmlsZScsZmlsZSk7CiAgICB9LAogICAgdXBsb2FkMSgpewogICAgfSwKICAgIGFzeW5jIHVwbG9hZEltZyhpbWcpIHsKICAgICAgICAvLyB0aGlzLmltZy5hcHBlbmQoJ2lkJyxpZCk7CiAgICAgCiAgICAgIGNvbnN0IHtkYXRhfSA9ICBhd2FpdCBheGlvcy5wb3N0KCcvdXBsb2FkL2xvc3Rmb3VuZC9zZXRGaWxlVXBsb2FkJyxpbWcpOwogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIAogICAgfSwKICAgIGFzeW5jIHVwbG9hZCgpewogICAgICAgCiAgICAgICAgY29uc29sZS5sb2codGhpcy5pbWcuZ2V0KCdpbWcnKSk7CiAgICAgICAgY29uc3Qge2RhdGF9ID0gYXdhaXQgYXhpb3MucG9zdCgnL2FwaS9sb3N0X2FuZF9mb3VuZC9pbnNlcnQnLHsKICAgICAgIAogICAgICAgICJ0aXRsZSI6dGhpcy50aXRsZSwKICAgICAgICAiY29udGVudCI6dGhpcy5jb250ZW50cywKICAgICAgICAiaW1hZ2UiOiIiLAogICAgICAgICJsYWJlbCI6IuWFtuS7liIsCiAgICAgICAgImxvY2F0aW9uIjoiIiwKICAgICAgICAiaXNMb3N0IjowLAogICAgICAgICJ1c2VySWQiOnRoaXMudXNlcmlkCgogICAgICAgIH0pCiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgdGhpcy5pbWcuYXBwZW5kKCdpZCcsZGF0YS5kYXRhKTsKICAgICAgICB0aGlzLiRvcHRpb25zLm1ldGhvZHMudXBsb2FkSW1nKHRoaXMuaW1nKTsKICAgICAgICAKICAgICAgICAKICAgICAgICAKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["insertWork.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA","file":"insertWork.vue","sourceRoot":"src/views/lostFound","sourcesContent":["<template>\n  <d2-container>\n    <template slot=\"header\">发布召领</template>\n    <el-row class=\"d2-text-center\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">物品名称：</el-col>\n      <el-col :span=\"6\">\n        <el-input v-model=\"title\" placeholder=\"物品名称\" size=\"small\"></el-input>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row>\n    <!-- <el-row class=\"d2-text-center\" style=\"margin-top:20px;\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">截止时间：</el-col>\n      <el-col :span=\"6\">\n        <el-date-picker\n          v-model=\"time\"\n          type=\"daterange\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n          :default-time=\"['00:00:00', '23:59:59']\"\n          size=\"small\"\n          class=\"d2-fl\"\n        ></el-date-picker>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row> -->\n    <el-row class=\"d2-text-center\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">物品描述：</el-col>\n      <el-col :span=\"6\">\n        <el-input v-model=\"contents\" type=\"textarea\" :rows=\"3\" placeholder=\"请输入物品的详细描述信息\"></el-input>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\" style=\"margin-top:20px;\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">添加图片：</el-col>\n      <el-col :span=\"15\">\n        <el-upload\n          class=\"d2-fl\"\n          action\n          list-type=\"picture-card\"\n          :on-preview=\"handlePictureCardPreview\"\n          :on-remove=\"handleRemove\"\n          :http-request=\"upload1\"\n          :before-upload=\"getImg\"\n          :limit=\"1\"\n        >\n          <i class=\"el-icon-plus\"></i>\n        </el-upload>\n        <el-dialog :visible.sync=\"dialogVisible\">\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt />\n        </el-dialog>\n      </el-col>\n    </el-row>\n    <!-- <el-row class=\"d2-text-center\" style=\"margin-top:20px;\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">酬劳：</el-col>\n      <el-col :span=\"6\">\n        <el-input v-model=\"money\" placeholder=\"￥\" size=\"small\"></el-input>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row> -->\n    <el-row class=\"d2-text-center\" style=\"margin-top:50px\">\n      <el-button type=\"primary\" @click=\"upload()\">发布</el-button>\n    </el-row>\n  </d2-container>\n</template>\n\n<script>\nimport axios from 'axios';\nimport {formatDate} from '../../assets/js/index';\nexport default {\n  name: \"page2\",\n  data() {\n    return {\n      title: \"\",\n      contents: \"\",\n      money: \"\",\n      time: \"\",\n      pickerOptions: {\n        shortcuts: [\n          {\n            text: \"最近一周\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          },\n          {\n            text: \"最近一个月\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          },\n          {\n            text: \"最近三个月\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          }\n        ]\n      },\n      dialogImageUrl: \"\",\n      dialogVisible: false,\n      img:new FormData()\n    };\n  },\n   computed:{\n    userid:function(){\n      return this.$store.state.userid\n    }\n  },\n  methods: {\n    async consoleLog() {\n      console.log(this.time);\n    },\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    getImg(file) {\n      this.img.append('file',file);\n    },\n    upload1(){\n    },\n    async uploadImg(img) {\n        // this.img.append('id',id);\n     \n      const {data} =  await axios.post('/upload/lostfound/setFileUpload',img);\n        console.log(data);\n        \n    },\n    async upload(){\n       \n        console.log(this.img.get('img'));\n        const {data} = await axios.post('/api/lost_and_found/insert',{\n       \n        \"title\":this.title,\n        \"content\":this.contents,\n        \"image\":\"\",\n        \"label\":\"其他\",\n        \"location\":\"\",\n        \"isLost\":0,\n        \"userId\":this.userid\n\n        })\n        console.log(data);\n        this.img.append('id',data.data);\n        this.$options.methods.uploadImg(this.img);\n        \n        \n        \n    }\n  }\n};\n</script>\n<style  scoped>\n.el-col {\n  margin-top: 20px;\n}\n</style>"]}]}