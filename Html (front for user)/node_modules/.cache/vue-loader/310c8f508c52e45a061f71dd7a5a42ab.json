{"remainingRequest":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\src\\views\\rental\\insertWork.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\src\\views\\rental\\insertWork.vue","mtime":1590630910030},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7Zm9ybWF0RGF0ZX0gZnJvbSAnLi4vLi4vYXNzZXRzL2pzL2luZGV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJwYWdlMiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiIiwKICAgICAgY29udGVudHM6ICIiLAogICAgICBtb25leTogIiIsCiAgICAgIHRpbWU6ICIiLAogICAgICBwaWNrZXJPcHRpb25zOiB7CiAgICAgICAgc2hvcnRjdXRzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICLmnIDov5HkuIDlkagiLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOwogICAgICAgICAgICAgIHBpY2tlci4kZW1pdCgicGljayIsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICLmnIDov5HkuIDkuKrmnIgiLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDMwKTsKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoInBpY2siLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0ZXh0OiAi5pyA6L+R5LiJ5Liq5pyIIiwKICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA5MCk7CiAgICAgICAgICAgICAgcGlja2VyLiRlbWl0KCJwaWNrIiwgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgZGlhbG9nSW1hZ2VVcmw6ICIiLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgaW1nOm5ldyBGb3JtRGF0YSgpLAogICAgICBuZXdEZ3JlZSA6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6ewogICAgdXNlcmlkOmZ1bmN0aW9uKCl7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyaWQKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGNvbnNvbGVMb2coKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGltZSk7CiAgICB9LAogICAgaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUsIGZpbGVMaXN0KTsKICAgIH0sCiAgICBoYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXcoZmlsZSkgewogICAgICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmw7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgZ2V0SW1nKGZpbGUpIHsKICAgICAgdGhpcy5pbWcuYXBwZW5kKCdmaWxlJyxmaWxlKTsKICAgIH0sCiAgICB1cGxvYWQxKCl7CiAgICB9LAogICAgYXN5bmMgdXBsb2FkSW1nKGltZykgewogICAgICAgIC8vIHRoaXMuaW1nLmFwcGVuZCgnaWQnLGlkKTsKICAgICAKICAgICAgY29uc3Qge2RhdGF9ID0gIGF3YWl0IGF4aW9zLnBvc3QoJ3VwbG9hZC9nb29kL3NldEZpbGVVcGxvYWQnLGltZyk7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgCiAgICB9LAogICAgYXN5bmMgdXBsb2FkKCl7CiAgICAgICAKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmltZy5nZXQoJ2ltZycpKTsKICAgICAgICBjb25zdCB7ZGF0YX0gPSBhd2FpdCBheGlvcy5wb3N0KCcvYXBpL3JlbnRhbC9pbnNlcnQgJyx7CiAgICAgICAgLy8gICJ1c2VyX2lkIjoxMywKICAgICAgICAvLyAgInRpdGxlIjp0aGlzLnRpdGxlLAogICAgICAgIC8vICAiY29udGVudCI6dGhpcy5jb250ZW50cywKICAgICAgICAvLyAgImltZyI6dGhpcy5pbWcsCiAgICAgICAgLy8gICJsYWJlbCI6IuWFtuS7liIsCiAgICAgICAgLy8gICJsb2NhdGlvbiI6IiIsCiAgICAgICAgLy8gICJpc19kb25lIjowLAogICAgICAgIC8vICAicmV3b3JkIjp0aGlzLm1vbmV5LAogICAgICAgIC8vICAic3RhcnRfdGltZSI6Zm9ybWF0RGF0ZSh0aGlzLnRpbWVbMF0pLAogICAgICAgIC8vICAiZW5kX3RpbWUiOmZvcm1hdERhdGUodGhpcy50aW1lWzFdKSwKICAgICAgICAvLyAgInRodW1iX3VwIjowLAoJICAgICAgLy8gICJjb2xsZWN0IjowLAogICAgICAgIC8vICAiY29tbWVudCI6MAogICAgICAgICAgInVzZXJJZCI6dGhpcy51c2VyaWQsCiAgICAgICAgICAidGl0bGUiOnRoaXMudGl0bGUsCiAgICAgICAgICAiY29udGVudCI6dGhpcy5jb250ZW50cywKICAgICAgICAgICJpbWFnZSI6IiIsCiAgICAgICAgICAibGFiZWwiOiLlhbbku5YiLAogICAgICAgICAgImxvY2F0aW9uIjoiIiwKICAgICAgICAgICJzdGFydFRpbWUiOmZvcm1hdERhdGUodGhpcy50aW1lWzBdKSwKICAgICAgICAgICJlbmRUaW1lIjpmb3JtYXREYXRlKHRoaXMudGltZVsxXSksCiAgICAgICAgICAidW5pdFByaWNlIjoxMi4zLAogICAgICAgICAgIm5ld0RlZ3JlZSI6OTAgICAvL+aWsOaXp+eoi+W6pgoKICAgICAgICB9KQogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIHRoaXMuaW1nLmFwcGVuZCgnaWQnLGRhdGEuZGF0YSk7CiAgICAgICAgLy8gY29uc29sZS5sb2coKQogICAgICAgIHRoaXMuJG9wdGlvbnMubWV0aG9kcy51cGxvYWRJbWcodGhpcy5pbWcpOwogICAgICAgIAogICAgICAgIAogICAgICAgIAogICAgfQogIH0KfTsK"},{"version":3,"sources":["insertWork.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA","file":"insertWork.vue","sourceRoot":"src/views/rental","sourcesContent":["<template>\n  <d2-container>\n    <template slot=\"header\">发布租凭</template>\n    <el-row class=\"d2-text-center\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">物品名称：</el-col>\n      <el-col :span=\"6\">\n        <el-input v-model=\"title\" placeholder=\"物品名称\" size=\"small\"></el-input>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\" style=\"margin-top:20px;\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">截止时间：</el-col>\n      <el-col :span=\"6\">\n        <el-date-picker\n          v-model=\"time\"\n          type=\"daterange\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n          :default-time=\"['00:00:00', '23:59:59']\"\n          size=\"small\"\n          class=\"d2-fl\"\n        ></el-date-picker>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">物品描述：</el-col>\n      <el-col :span=\"6\">\n        <el-input v-model=\"contents\" type=\"textarea\" :rows=\"3\" placeholder=\"请描述你的物品\"></el-input>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">新旧程度：</el-col>\n      <el-col :span=\"6\">\n        <el-input v-model=\"newDgree\" placeholder=\"新旧程度1-100\" size=\"small\"></el-input>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\" style=\"margin-top:20px;\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">添加图片：</el-col>\n      <el-col :span=\"15\">\n        <el-upload\n          class=\"d2-fl\"\n          action\n          list-type=\"picture-card\"\n          :on-preview=\"handlePictureCardPreview\"\n          :on-remove=\"handleRemove\"\n          :http-request=\"upload1\"\n          :before-upload=\"getImg\"\n          :limit=\"1\"\n        >\n          <i class=\"el-icon-plus\"></i>\n        </el-upload>\n        <el-dialog :visible.sync=\"dialogVisible\">\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt />\n        </el-dialog>\n      </el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\" style=\"margin-top:20px;\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">租凭价格：</el-col>\n      <el-col :span=\"6\">\n        <el-input v-model=\"money\" placeholder=\"￥\" size=\"small\"></el-input>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\" style=\"margin-top:50px\">\n      <el-button type=\"primary\" @click=\"upload()\">发布</el-button>\n    </el-row>\n  </d2-container>\n</template>\n\n<script>\nimport axios from 'axios';\nimport {formatDate} from '../../assets/js/index';\nexport default {\n  name: \"page2\",\n  data() {\n    return {\n      title: \"\",\n      contents: \"\",\n      money: \"\",\n      time: \"\",\n      pickerOptions: {\n        shortcuts: [\n          {\n            text: \"最近一周\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          },\n          {\n            text: \"最近一个月\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          },\n          {\n            text: \"最近三个月\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          }\n        ]\n      },\n      dialogImageUrl: \"\",\n      dialogVisible: false,\n      img:new FormData(),\n      newDgree : \"\"\n    };\n  },\n  computed:{\n    userid:function(){\n      return this.$store.state.userid\n    }\n  },\n  methods: {\n    async consoleLog() {\n      console.log(this.time);\n    },\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    getImg(file) {\n      this.img.append('file',file);\n    },\n    upload1(){\n    },\n    async uploadImg(img) {\n        // this.img.append('id',id);\n     \n      const {data} =  await axios.post('upload/good/setFileUpload',img);\n        console.log(data);\n        \n    },\n    async upload(){\n       \n        console.log(this.img.get('img'));\n        const {data} = await axios.post('/api/rental/insert ',{\n        //  \"user_id\":13,\n        //  \"title\":this.title,\n        //  \"content\":this.contents,\n        //  \"img\":this.img,\n        //  \"label\":\"其他\",\n        //  \"location\":\"\",\n        //  \"is_done\":0,\n        //  \"reword\":this.money,\n        //  \"start_time\":formatDate(this.time[0]),\n        //  \"end_time\":formatDate(this.time[1]),\n        //  \"thumb_up\":0,\n\t      //  \"collect\":0,\n        //  \"comment\":0\n          \"userId\":this.userid,\n          \"title\":this.title,\n          \"content\":this.contents,\n          \"image\":\"\",\n          \"label\":\"其他\",\n          \"location\":\"\",\n          \"startTime\":formatDate(this.time[0]),\n          \"endTime\":formatDate(this.time[1]),\n          \"unitPrice\":12.3,\n          \"newDegree\":90   //新旧程度\n\n        })\n        console.log(data);\n        this.img.append('id',data.data);\n        // console.log()\n        this.$options.methods.uploadImg(this.img);\n        \n        \n        \n    }\n  }\n};\n</script>\n<style  scoped>\n.el-col {\n  margin-top: 20px;\n}\n</style>"]}]}