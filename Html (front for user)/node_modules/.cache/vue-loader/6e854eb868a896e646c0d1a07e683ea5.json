{"remainingRequest":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\实践\\d2-admin-start-kit-master\\src\\views\\demo\\page2\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\实践\\d2-admin-start-kit-master\\src\\views\\demo\\page2\\index.vue","mtime":1588753358960},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicGFnZTIiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIiIsCiAgICAgIGNvbnRlbnRzOiAiIiwKICAgICAgbW9uZXk6ICIiLAogICAgICB0aW1lOiAiIiwKICAgICAgcGlja2VyT3B0aW9uczogewogICAgICAgIHNob3J0Y3V0czogWwogICAgICAgICAgewogICAgICAgICAgICB0ZXh0OiAi5pyA6L+R5LiA5ZGoIiwKICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA3KTsKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoInBpY2siLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0ZXh0OiAi5pyA6L+R5LiA5Liq5pyIIiwKICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiAzMCk7CiAgICAgICAgICAgICAgcGlja2VyLiRlbWl0KCJwaWNrIiwgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdGV4dDogIuacgOi/keS4ieS4quaciCIsCiAgICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogOTApOwogICAgICAgICAgICAgIHBpY2tlci4kZW1pdCgicGljayIsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIGRpYWxvZ0ltYWdlVXJsOiAiIiwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGltZzpuZXcgRm9ybURhdGEoKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGNvbnNvbGVMb2coKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGltZSk7CiAgICB9LAogICAgaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUsIGZpbGVMaXN0KTsKICAgIH0sCiAgICBoYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXcoZmlsZSkgewogICAgICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmw7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgZ2V0SW1nKGZpbGUpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5pbWcpOwogICAgICB0aGlzLmltZy5hcHBlbmQoJ2ltZycsZmlsZSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW1nKTsKICAgIH0sCiAgICB1cGxvYWQxKCl7CiAgICB9LAogICAgYXN5bmMgdXBsb2FkKCl7CiAgICAgICBjb25zdCB7ZGF0YX0gPSBhd2FpdCBheGlvcy5wb3N0KCcvYXBpL3Rhc2svaW5zZXJ0Jyx7CiAgICAgICAgICJpZCI6IjEiLAogICAgICAgICAidXNlcl9pZCI6IjEiLAogICAgICAgICAidGl0bGUiOnRoaXMudGl0bGUsCiAgICAgICAgICJjb250ZW50Ijp0aGlzLmNvbnRlbnRzLAogICAgICAgICAiaW1nIjpudWxsLAogICAgICAgICAibGFiZWwiOiLlhbbku5YiLAogICAgICAgICAibG9jYXRpb24iOiIiLAogICAgICAgICAiaXNfZG9uZSI6MCwKICAgICAgICAgInJld29yZCI6dGhpcy5tb25leSwKICAgICAgICAgInN0YXJ0X3RpbWUiOnRoaXMudGltZVswXSwKICAgICAgICAgImVuZF90aW1lIjp0aGlzLnRpbWVbMV0sCiAgICAgICAgICJ0aHVtYl91cCI6MCwKCSAgICAgICAiY29sbGVjdCI6MCwKICAgICAgICAgImNvbW1lbnQiOjAKICAgICAgICAgfSkKICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgIH0KCiAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/demo/page2","sourcesContent":["<template>\n  <d2-container>\n    <template slot=\"header\">发布任务</template>\n    <el-row class=\"d2-text-center\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">任务名称：</el-col>\n      <el-col :span=\"6\">\n        <el-input v-model=\"title\" placeholder=\"任务名称\" size=\"small\"></el-input>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\" style=\"margin-top:20px;\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">截止时间：</el-col>\n      <el-col :span=\"6\">\n        <el-date-picker\n          v-model=\"time\"\n          type=\"daterange\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n          :default-time=\"['00:00:00', '23:59:59']\"\n          size=\"small\"\n        ></el-date-picker>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">任务描述：</el-col>\n      <el-col :span=\"6\">\n        <el-input v-model=\"contents\" type=\"textarea\" :rows=\"3\" placeholder=\"请输入你的任务需要达成的目标\"></el-input>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\" style=\"margin-top:20px;\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">添加图片：</el-col>\n      <el-col :span=\"15\">\n        <el-upload\n          class=\"d2-fl\"\n          action\n          list-type=\"picture-card\"\n          :on-preview=\"handlePictureCardPreview\"\n          :on-remove=\"handleRemove\"\n          :http-request=\"upload1\"\n          :before-upload=\"getImg\"\n          :limit=\"1\"\n        >\n          <i class=\"el-icon-plus\"></i>\n        </el-upload>\n        <el-dialog :visible.sync=\"dialogVisible\">\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt />\n        </el-dialog>\n      </el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\" style=\"margin-top:20px;\">\n      <el-col :span=\"7\"></el-col>\n      <el-col :span=\"2\" style=\"margin-top:25px\">酬劳：</el-col>\n      <el-col :span=\"6\">\n        <el-input v-model=\"money\" placeholder=\"￥\" size=\"small\"></el-input>\n      </el-col>\n      <el-col :span=\"9\"></el-col>\n    </el-row>\n    <el-row class=\"d2-text-center\" style=\"margin-top:50px\">\n      <el-button type=\"primary\" @click=\"upload()\">发布</el-button>\n    </el-row>\n  </d2-container>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: \"page2\",\n  data() {\n    return {\n      title: \"\",\n      contents: \"\",\n      money: \"\",\n      time: \"\",\n      pickerOptions: {\n        shortcuts: [\n          {\n            text: \"最近一周\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          },\n          {\n            text: \"最近一个月\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          },\n          {\n            text: \"最近三个月\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          }\n        ]\n      },\n      dialogImageUrl: \"\",\n      dialogVisible: false,\n      img:new FormData()\n    };\n  },\n  methods: {\n    async consoleLog() {\n      console.log(this.time);\n    },\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    getImg(file) {\n      console.log(this.img);\n      this.img.append('img',file);\n      console.log(this.img);\n    },\n    upload1(){\n    },\n    async upload(){\n       const {data} = await axios.post('/api/task/insert',{\n         \"id\":\"1\",\n         \"user_id\":\"1\",\n         \"title\":this.title,\n         \"content\":this.contents,\n         \"img\":null,\n         \"label\":\"其他\",\n         \"location\":\"\",\n         \"is_done\":0,\n         \"reword\":this.money,\n         \"start_time\":this.time[0],\n         \"end_time\":this.time[1],\n         \"thumb_up\":0,\n\t       \"collect\":0,\n         \"comment\":0\n         })\n        console.log(data);\n    }\n\n  }\n};\n</script>\n<style  scoped>\n.el-col {\n  margin-top: 20px;\n}\n</style>"]}]}