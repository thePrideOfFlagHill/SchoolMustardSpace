{"remainingRequest":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\babel-loader\\lib\\index.js!D:\\实践\\d2-admin-start-kit-master\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\实践\\d2-admin-start-kit-master\\src\\layout\\header-aside\\components\\menu-side\\index.js","dependencies":[{"path":"D:\\实践\\d2-admin-start-kit-master\\src\\layout\\header-aside\\components\\menu-side\\index.js","mtime":1587908413000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\eslint-loader\\index.js","mtime":1588755592739}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU1QjlFXHU4REY1L2QyLWFkbWluLXN0YXJ0LWtpdC1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkQ6L1x1NUI5RVx1OERGNS9kMi1hZG1pbi1zdGFydC1raXQtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBtZW51TWl4aW4gZnJvbSAnLi4vbWl4aW4vbWVudSc7CmltcG9ydCB7IGVsTWVudUl0ZW0sIGVsU3VibWVudSB9IGZyb20gJy4uL2xpYnMvdXRpbC5tZW51JzsKaW1wb3J0IEJTY3JvbGwgZnJvbSAnYmV0dGVyLXNjcm9sbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZDItbGF5b3V0LWhlYWRlci1hc2lkZS1tZW51LXNpZGUnLAogIG1peGluczogW21lbnVNaXhpbl0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gaCgnZGl2JywgewogICAgICBhdHRyczogewogICAgICAgIGNsYXNzOiAnZDItbGF5b3V0LWhlYWRlci1hc2lkZS1tZW51LXNpZGUnCiAgICAgIH0KICAgIH0sIFtoKCdlbC1tZW51JywgewogICAgICBwcm9wczogewogICAgICAgIGNvbGxhcHNlOiB0aGlzLmFzaWRlQ29sbGFwc2UsCiAgICAgICAgY29sbGFwc2VUcmFuc2l0aW9uOiB0aGlzLmFzaWRlVHJhbnNpdGlvbiwKICAgICAgICB1bmlxdWVPcGVuZWQ6IHRydWUsCiAgICAgICAgZGVmYXVsdEFjdGl2ZTogdGhpcy4kcm91dGUuZnVsbFBhdGgKICAgICAgfSwKICAgICAgcmVmOiAnbWVudScsCiAgICAgIG9uOiB7CiAgICAgICAgc2VsZWN0OiB0aGlzLmhhbmRsZU1lbnVTZWxlY3QKICAgICAgfQogICAgfSwgdGhpcy5hc2lkZS5tYXAoZnVuY3Rpb24gKG1lbnUpIHsKICAgICAgcmV0dXJuIChtZW51LmNoaWxkcmVuID09PSB1bmRlZmluZWQgPyBlbE1lbnVJdGVtIDogZWxTdWJtZW51KS5jYWxsKF90aGlzLCBoLCBtZW51KTsKICAgIH0pKV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmFzaWRlLmxlbmd0aCA9PT0gMCAmJiAhdGhpcy5hc2lkZUNvbGxhcHNlID8gW2goJ2RpdicsIHsKICAgICAgYXR0cnM6IHsKICAgICAgICBjbGFzczogJ2QyLWxheW91dC1oZWFkZXItYXNpZGUtbWVudS1lbXB0eScsCiAgICAgICAgZmxleDogJ2Rpcjp0b3AgbWFpbjpjZW50ZXIgY3Jvc3M6Y2VudGVyJwogICAgICB9CiAgICB9LCBbaCgnZDItaWNvbicsIHsKICAgICAgcHJvcHM6IHsKICAgICAgICBuYW1lOiAnaW5ib3gnCiAgICAgIH0KICAgIH0pLCBoKCdzcGFuJywge30sICfmsqHmnInkvqfmoI/oj5zljZUnKV0pXSA6IFtdKSkpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFzaWRlSGVpZ2h0OiAzMDAsCiAgICAgIEJTOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdkMmFkbWluL21lbnUnLCBbJ2FzaWRlJywgJ2FzaWRlQ29sbGFwc2UnLCAnYXNpZGVUcmFuc2l0aW9uJ10pKSwKICB3YXRjaDogewogICAgLy8g5oqY5Y+g5ZKM5bGV5byA6I+c5Y2V55qE5pe25YCZ6ZSA5q+BIGJldHRlciBzY3JvbGwKICAgIGFzaWRlQ29sbGFwc2U6IGZ1bmN0aW9uIGFzaWRlQ29sbGFwc2UodmFsKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zY3JvbGxEZXN0cm95KCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5zY3JvbGxJbml0KCk7CiAgICAgIH0sIDUwMCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zY3JvbGxJbml0KCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5zY3JvbGxEZXN0cm95KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzY3JvbGxJbml0OiBmdW5jdGlvbiBzY3JvbGxJbml0KCkgewogICAgICB0aGlzLkJTID0gbmV3IEJTY3JvbGwodGhpcy4kZWwsIHsKICAgICAgICBtb3VzZVdoZWVsOiB0cnVlLAogICAgICAgIGNsaWNrOiB0cnVlIC8vIOWmguaenOS9oOaEv+aEj+WPr+S7peaJk+W8gOaYvuekuua7muWKqOadoQogICAgICAgIC8vIHNjcm9sbGJhcjogewogICAgICAgIC8vICAgZmFkZTogdHJ1ZSwKICAgICAgICAvLyAgIGludGVyYWN0aXZlOiBmYWxzZQogICAgICAgIC8vIH0KCiAgICAgIH0pOwogICAgfSwKICAgIHNjcm9sbERlc3Ryb3k6IGZ1bmN0aW9uIHNjcm9sbERlc3Ryb3koKSB7CiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kMi1wcm9qZWN0cy9kMi1hZG1pbi9pc3N1ZXMvNzUKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLkJTLmRlc3Ryb3koKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGRlbGV0ZSB0aGlzLkJTOwogICAgICAgIHRoaXMuQlMgPSBudWxsOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:/实践/d2-admin-start-kit-master/src/layout/header-aside/components/menu-side/index.js"],"names":["mapState","menuMixin","elMenuItem","elSubmenu","BScroll","name","mixins","render","h","attrs","class","props","collapse","asideCollapse","collapseTransition","asideTransition","uniqueOpened","defaultActive","$route","fullPath","ref","on","select","handleMenuSelect","aside","map","menu","children","undefined","call","length","flex","data","asideHeight","BS","computed","watch","val","scrollDestroy","setTimeout","scrollInit","mounted","beforeDestroy","methods","$el","mouseWheel","click","destroy","e"],"mappings":"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","sourcesContent":["import { mapState } from 'vuex'\nimport menuMixin from '../mixin/menu'\nimport { elMenuItem, elSubmenu } from '../libs/util.menu'\nimport BScroll from 'better-scroll'\n\nexport default {\n  name: 'd2-layout-header-aside-menu-side',\n  mixins: [\n    menuMixin\n  ],\n  render (h) {\n    return h('div', { attrs: { class: 'd2-layout-header-aside-menu-side' } }, [\n      h('el-menu', {\n        props: { collapse: this.asideCollapse, collapseTransition: this.asideTransition, uniqueOpened: true, defaultActive: this.$route.fullPath },\n        ref: 'menu',\n        on: { select: this.handleMenuSelect }\n      }, this.aside.map(menu => (menu.children === undefined ? elMenuItem : elSubmenu).call(this, h, menu))),\n      ...this.aside.length === 0 && !this.asideCollapse ? [\n        h('div', { attrs: { class: 'd2-layout-header-aside-menu-empty', flex: 'dir:top main:center cross:center' } }, [\n          h('d2-icon', { props: { name: 'inbox' } }),\n          h('span', {}, '没有侧栏菜单')\n        ])\n      ] : []\n    ])\n  },\n  data () {\n    return {\n      asideHeight: 300,\n      BS: null\n    }\n  },\n  computed: {\n    ...mapState('d2admin/menu', [\n      'aside',\n      'asideCollapse',\n      'asideTransition'\n    ])\n  },\n  watch: {\n    // 折叠和展开菜单的时候销毁 better scroll\n    asideCollapse (val) {\n      this.scrollDestroy()\n      setTimeout(() => {\n        this.scrollInit()\n      }, 500)\n    }\n  },\n  mounted () {\n    this.scrollInit()\n  },\n  beforeDestroy () {\n    this.scrollDestroy()\n  },\n  methods: {\n    scrollInit () {\n      this.BS = new BScroll(this.$el, {\n        mouseWheel: true,\n        click: true\n        // 如果你愿意可以打开显示滚动条\n        // scrollbar: {\n        //   fade: true,\n        //   interactive: false\n        // }\n      })\n    },\n    scrollDestroy () {\n      // https://github.com/d2-projects/d2-admin/issues/75\n      try {\n        this.BS.destroy()\n      } catch (e) {\n        delete this.BS\n        this.BS = null\n      }\n    }\n  }\n}\n"]}]}