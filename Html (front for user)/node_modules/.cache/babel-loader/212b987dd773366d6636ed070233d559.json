{"remainingRequest":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\babel-loader\\lib\\index.js!D:\\实践\\d2-admin-start-kit-master\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\实践\\d2-admin-start-kit-master\\src\\layout\\header-aside\\components\\menu-header\\index.js","dependencies":[{"path":"D:\\实践\\d2-admin-start-kit-master\\src\\layout\\header-aside\\components\\menu-header\\index.js","mtime":1587908413000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\eslint-loader\\index.js","mtime":1588755592739}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU1QjlFXHU4REY1L2QyLWFkbWluLXN0YXJ0LWtpdC1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkQ6L1x1NUI5RVx1OERGNS9kMi1hZG1pbi1zdGFydC1raXQtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IG1lbnVNaXhpbiBmcm9tICcuLi9taXhpbi9tZW51JzsKaW1wb3J0IHsgZWxNZW51SXRlbSwgZWxTdWJtZW51IH0gZnJvbSAnLi4vbGlicy91dGlsLm1lbnUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2QyLWxheW91dC1oZWFkZXItYXNpZGUtbWVudS1oZWFkZXInLAogIG1peGluczogW21lbnVNaXhpbl0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gaCgnZGl2JywgewogICAgICBhdHRyczogewogICAgICAgIGZsZXg6ICdjcm9zczpjZW50ZXInCiAgICAgIH0sCiAgICAgIGNsYXNzOiB7CiAgICAgICAgJ2QyLXRoZW1lLWhlYWRlci1tZW51JzogdHJ1ZSwKICAgICAgICAnaXMtc2Nyb2xsYWJsZSc6IHRoaXMuaXNTY3JvbGwKICAgICAgfSwKICAgICAgcmVmOiAncGFnZScKICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgIGF0dHJzOiB7CiAgICAgICAgY2xhc3M6ICdkMi10aGVtZS1oZWFkZXItbWVudV9fY29udGVudCcsCiAgICAgICAgZmxleDogJycsCiAgICAgICAgJ2ZsZXgtYm94JzogJzEnCiAgICAgIH0sCiAgICAgIHJlZjogJ2NvbnRlbnQnCiAgICB9LCBbaCgnZGl2JywgewogICAgICBhdHRyczogewogICAgICAgIGNsYXNzOiAnZDItdGhlbWUtaGVhZGVyLW1lbnVfX3Njcm9sbCcsCiAgICAgICAgJ2ZsZXgtYm94JzogJzAnCiAgICAgIH0sCiAgICAgIHN0eWxlOiB7CiAgICAgICAgdHJhbnNmb3JtOiAidHJhbnNsYXRlWCgiLmNvbmNhdCh0aGlzLmN1cnJlbnRUcmFuc2xhdGVYLCAicHgpIikKICAgICAgfSwKICAgICAgcmVmOiAnc2Nyb2xsJwogICAgfSwgW2goJ2VsLW1lbnUnLCB7CiAgICAgIHByb3BzOiB7CiAgICAgICAgbW9kZTogJ2hvcml6b250YWwnLAogICAgICAgIGRlZmF1bHRBY3RpdmU6IHRoaXMuYWN0aXZlCiAgICAgIH0sCiAgICAgIG9uOiB7CiAgICAgICAgc2VsZWN0OiB0aGlzLmhhbmRsZU1lbnVTZWxlY3QKICAgICAgfQogICAgfSwgdGhpcy5oZWFkZXIubWFwKGZ1bmN0aW9uIChtZW51KSB7CiAgICAgIHJldHVybiAobWVudS5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkID8gZWxNZW51SXRlbSA6IGVsU3VibWVudSkuY2FsbChfdGhpcywgaCwgbWVudSk7CiAgICB9KSldKV0pXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuaXNTY3JvbGwgPyBbaCgnZGl2JywgewogICAgICBhdHRyczogewogICAgICAgIGNsYXNzOiAnZDItdGhlbWUtaGVhZGVyLW1lbnVfX3ByZXYnLAogICAgICAgIGZsZXg6ICdtYWluOmNlbnRlciBjcm9zczpjZW50ZXInLAogICAgICAgICdmbGV4LWJveCc6ICcwJwogICAgICB9LAogICAgICBvbjogewogICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5zY3JvbGwoJ2xlZnQnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIFtoKCdpJywgewogICAgICBhdHRyczogewogICAgICAgIGNsYXNzOiAnZWwtaWNvbi1hcnJvdy1sZWZ0JwogICAgICB9CiAgICB9KV0pLCBoKCdkaXYnLCB7CiAgICAgIGF0dHJzOiB7CiAgICAgICAgY2xhc3M6ICdkMi10aGVtZS1oZWFkZXItbWVudV9fbmV4dCcsCiAgICAgICAgZmxleDogJ21haW46Y2VudGVyIGNyb3NzOmNlbnRlcicsCiAgICAgICAgJ2ZsZXgtYm94JzogJzAnCiAgICAgIH0sCiAgICAgIG9uOiB7CiAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLnNjcm9sbCgncmlnaHQnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIFtoKCdpJywgewogICAgICBhdHRyczogewogICAgICAgIGNsYXNzOiAnZWwtaWNvbi1hcnJvdy1yaWdodCcKICAgICAgfQogICAgfSldKV0gOiBbXSkpKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgnZDJhZG1pbi9tZW51JywgWydoZWFkZXInXSkpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmU6ICcnLAogICAgICBpc1Njcm9sbDogZmFsc2UsCiAgICAgIHNjcm9sbFdpZHRoOiAwLAogICAgICBjb250ZW50V2lkdGg6IDAsCiAgICAgIGN1cnJlbnRUcmFuc2xhdGVYOiAwLAogICAgICB0aHJvdHRsZWRDaGVja1Njcm9sbDogbnVsbAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAnJHJvdXRlLm1hdGNoZWQnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5hY3RpdmUgPSB2YWxbdmFsLmxlbmd0aCAtIDFdLnBhdGg7CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2Nyb2xsOiBmdW5jdGlvbiBzY3JvbGwoZGlyZWN0aW9uKSB7CiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0JykgewogICAgICAgIC8vIOWQkeWPs+a7muWKqAogICAgICAgIHRoaXMuY3VycmVudFRyYW5zbGF0ZVggPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWQkeW3pua7muWKqAogICAgICAgIGlmICh0aGlzLmNvbnRlbnRXaWR0aCAqIDIgLSB0aGlzLmN1cnJlbnRUcmFuc2xhdGVYIDw9IHRoaXMuc2Nyb2xsV2lkdGgpIHsKICAgICAgICAgIHRoaXMuY3VycmVudFRyYW5zbGF0ZVggLT0gdGhpcy5jb250ZW50V2lkdGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY3VycmVudFRyYW5zbGF0ZVggPSB0aGlzLmNvbnRlbnRXaWR0aCAtIHRoaXMuc2Nyb2xsV2lkdGg7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2hlY2tTY3JvbGw6IGZ1bmN0aW9uIGNoZWNrU2Nyb2xsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBjb250ZW50V2lkdGggPSB0aGlzLiRyZWZzLmNvbnRlbnQuY2xpZW50V2lkdGg7CiAgICAgIHZhciBzY3JvbGxXaWR0aCA9IHRoaXMuJHJlZnMuc2Nyb2xsLmNsaWVudFdpZHRoOwoKICAgICAgaWYgKHRoaXMuaXNTY3JvbGwpIHsKICAgICAgICAvLyDpobXpnaLkvp3ml6flhYHorrjmu5rliqjnmoTmg4XlhrXvvIzpnIDopoHmm7TmlrB3aWR0aAogICAgICAgIGlmICh0aGlzLmNvbnRlbnRXaWR0aCAtIHRoaXMuc2Nyb2xsV2lkdGggPT09IHRoaXMuY3VycmVudFRyYW5zbGF0ZVgpIHsKICAgICAgICAgIC8vIGN1cnJlbnRUcmFuc2xhdGVYIOS5n+mcgOimgeebuOW6lOWPmOWMluOAkOWcqOWPs+err+WIsOWktOeahOaDheWGteaXtuOAkQogICAgICAgICAgdGhpcy5jdXJyZW50VHJhbnNsYXRlWCA9IGNvbnRlbnRXaWR0aCAtIHNjcm9sbFdpZHRoOyAvLyDlv6vpgJ/nmoTmu5Hliqjkvp3ml6flrZjlnKjliKTmlq3lkozorqHnrpfml7blr7nlupTnmoRjb250ZW50V2lkdGjlj5jmiJDmraPmlbDvvIzmiYDku6XpnIDopoHpmZDliLbkuIDkuIsKCiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VHJhbnNsYXRlWCA+IDApIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50VHJhbnNsYXRlWCA9IDA7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyDmm7TmlrDlhYPntKDmlbDmja4KCgogICAgICAgIHRoaXMuY29udGVudFdpZHRoID0gY29udGVudFdpZHRoOwogICAgICAgIHRoaXMuc2Nyb2xsV2lkdGggPSBzY3JvbGxXaWR0aDsgLy8g5Yik5pat5L2V5pe25rua5Yqo5raI5aSxOiDlvZNzY3JvbGwgPiBjb250ZW50CgogICAgICAgIGlmIChjb250ZW50V2lkdGggPiBzY3JvbGxXaWR0aCkgewogICAgICAgICAgdGhpcy5pc1Njcm9sbCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSAvLyDliKTmlq3kvZXml7bmu5rliqjlh7rnjrA6IOW9k3Njcm9sbCA8IGNvbnRlbnQKCgogICAgICBpZiAoIXRoaXMuaXNTY3JvbGwgJiYgY29udGVudFdpZHRoIDwgc2Nyb2xsV2lkdGgpIHsKICAgICAgICB0aGlzLmlzU2Nyb2xsID0gdHJ1ZTsgLy8g5rOo5oSP77yM5b2TaXNTY3JvbGzlj5jkuLp0cnVl77yM5a+55bqU55qE5YWD57Sg55uS5a2Q5aSn5bCP5Lya5Y+R55Sf5Y+Y5YyWCgogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnRlbnRXaWR0aCA9IF90aGlzMi4kcmVmcy5jb250ZW50LmNsaWVudFdpZHRoOwogICAgICAgICAgc2Nyb2xsV2lkdGggPSBfdGhpczIuJHJlZnMuc2Nyb2xsLmNsaWVudFdpZHRoOwogICAgICAgICAgX3RoaXMyLmNvbnRlbnRXaWR0aCA9IGNvbnRlbnRXaWR0aDsKICAgICAgICAgIF90aGlzMi5zY3JvbGxXaWR0aCA9IHNjcm9sbFdpZHRoOwogICAgICAgICAgX3RoaXMyLmN1cnJlbnRUcmFuc2xhdGVYID0gMDsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIOWIneWni+WMluWIpOaWrQogICAgLy8g6buY6K6k5Yik5pat54i25YWD57Sg5ZKM5a2Q5YWD57Sg55qE5aSn5bCP77yM5Lul56Gu5a6a5Yid5aeL5oOF5Ya15piv5ZCm5pi+56S65rua5YqoCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuY2hlY2tTY3JvbGwpOyAvLyDlhajlsYDnqpflj6Plj5jljJbnm5HlkKzvvIzliKTmlq3niLblhYPntKDlkozlrZDlhYPntKDnmoTlpKflsI/vvIzku47ogIzmjqfliLZpc1Njcm9sbOeahOW8gOWFswoKICAgIHRoaXMudGhyb3R0bGVkQ2hlY2tTY3JvbGwgPSB0aHJvdHRsZSh0aGlzLmNoZWNrU2Nyb2xsLCAzMDApOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMudGhyb3R0bGVkQ2hlY2tTY3JvbGwpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIC8vIOWPlua2iOebkeWQrAogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMudGhyb3R0bGVkQ2hlY2tTY3JvbGwpOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLmNoZWNrU2Nyb2xsKTsKICB9Cn07"},{"version":3,"sources":["D:/实践/d2-admin-start-kit-master/src/layout/header-aside/components/menu-header/index.js"],"names":["throttle","mapState","menuMixin","elMenuItem","elSubmenu","name","mixins","render","h","attrs","flex","class","isScroll","ref","style","transform","currentTranslateX","props","mode","defaultActive","active","on","select","handleMenuSelect","header","map","menu","children","undefined","call","click","scroll","computed","data","scrollWidth","contentWidth","throttledCheckScroll","watch","handler","val","length","path","immediate","methods","direction","checkScroll","$refs","content","clientWidth","$nextTick","mounted","window","addEventListener","beforeDestroy","removeEventListener"],"mappings":"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","sourcesContent":["import { throttle } from 'lodash'\nimport { mapState } from 'vuex'\nimport menuMixin from '../mixin/menu'\nimport { elMenuItem, elSubmenu } from '../libs/util.menu'\n\nexport default {\n  name: 'd2-layout-header-aside-menu-header',\n  mixins: [\n    menuMixin\n  ],\n  render (h) {\n    return h('div', {\n      attrs: { flex: 'cross:center' },\n      class: { 'd2-theme-header-menu': true, 'is-scrollable': this.isScroll },\n      ref: 'page'\n    }, [\n      h('div', {\n        attrs: { class: 'd2-theme-header-menu__content', flex: '', 'flex-box': '1' },\n        ref: 'content'\n      }, [\n        h('div', {\n          attrs: { class: 'd2-theme-header-menu__scroll', 'flex-box': '0' },\n          style: { transform: `translateX(${this.currentTranslateX}px)` },\n          ref: 'scroll'\n        }, [\n          h('el-menu', {\n            props: { mode: 'horizontal', defaultActive: this.active },\n            on: { select: this.handleMenuSelect }\n          }, this.header.map(menu => (menu.children === undefined ? elMenuItem : elSubmenu).call(this, h, menu)))\n        ])\n      ]),\n      ...this.isScroll ? [\n        h('div', {\n          attrs: { class: 'd2-theme-header-menu__prev', flex: 'main:center cross:center', 'flex-box': '0' },\n          on: { click: () => this.scroll('left') }\n        }, [\n          h('i', { attrs: { class: 'el-icon-arrow-left' } })\n        ]),\n        h('div', {\n          attrs: { class: 'd2-theme-header-menu__next', flex: 'main:center cross:center', 'flex-box': '0' },\n          on: { click: () => this.scroll('right') }\n        }, [\n          h('i', { attrs: { class: 'el-icon-arrow-right' } })\n        ])\n      ] : []\n    ])\n  },\n  computed: {\n    ...mapState('d2admin/menu', [\n      'header'\n    ])\n  },\n  data () {\n    return {\n      active: '',\n      isScroll: false,\n      scrollWidth: 0,\n      contentWidth: 0,\n      currentTranslateX: 0,\n      throttledCheckScroll: null\n    }\n  },\n  watch: {\n    '$route.matched': {\n      handler (val) {\n        this.active = val[val.length - 1].path\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    scroll (direction) {\n      if (direction === 'left') {\n        // 向右滚动\n        this.currentTranslateX = 0\n      } else {\n        // 向左滚动\n        if (this.contentWidth * 2 - this.currentTranslateX <= this.scrollWidth) {\n          this.currentTranslateX -= this.contentWidth\n        } else {\n          this.currentTranslateX = this.contentWidth - this.scrollWidth\n        }\n      }\n    },\n    checkScroll () {\n      let contentWidth = this.$refs.content.clientWidth\n      let scrollWidth = this.$refs.scroll.clientWidth\n      if (this.isScroll) {\n        // 页面依旧允许滚动的情况，需要更新width\n        if (this.contentWidth - this.scrollWidth === this.currentTranslateX) {\n          // currentTranslateX 也需要相应变化【在右端到头的情况时】\n          this.currentTranslateX = contentWidth - scrollWidth\n          // 快速的滑动依旧存在判断和计算时对应的contentWidth变成正数，所以需要限制一下\n          if (this.currentTranslateX > 0) {\n            this.currentTranslateX = 0\n          }\n        }\n        // 更新元素数据\n        this.contentWidth = contentWidth\n        this.scrollWidth = scrollWidth\n        // 判断何时滚动消失: 当scroll > content\n        if (contentWidth > scrollWidth) {\n          this.isScroll = false\n        }\n      }\n      // 判断何时滚动出现: 当scroll < content\n      if (!this.isScroll && contentWidth < scrollWidth) {\n        this.isScroll = true\n        // 注意，当isScroll变为true，对应的元素盒子大小会发生变化\n        this.$nextTick(() => {\n          contentWidth = this.$refs.content.clientWidth\n          scrollWidth = this.$refs.scroll.clientWidth\n          this.contentWidth = contentWidth\n          this.scrollWidth = scrollWidth\n          this.currentTranslateX = 0\n        })\n      }\n    }\n  },\n  mounted () {\n    // 初始化判断\n    // 默认判断父元素和子元素的大小，以确定初始情况是否显示滚动\n    window.addEventListener('load', this.checkScroll)\n    // 全局窗口变化监听，判断父元素和子元素的大小，从而控制isScroll的开关\n    this.throttledCheckScroll = throttle(this.checkScroll, 300)\n    window.addEventListener('resize', this.throttledCheckScroll)\n  },\n  beforeDestroy () {\n    // 取消监听\n    window.removeEventListener('resize', this.throttledCheckScroll)\n    window.removeEventListener('load', this.checkScroll)\n  }\n}\n"]}]}