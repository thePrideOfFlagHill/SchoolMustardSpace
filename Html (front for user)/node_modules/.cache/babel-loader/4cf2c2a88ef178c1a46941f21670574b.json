{"remainingRequest":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\babel-loader\\lib\\index.js!D:\\实践\\d2-admin-start-kit-master\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\实践\\d2-admin-start-kit-master\\src\\store\\modules\\d2admin\\modules\\account.js","dependencies":[{"path":"D:\\实践\\d2-admin-start-kit-master\\src\\store\\modules\\d2admin\\modules\\account.js","mtime":1587908413000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NUI5RVx1OERGNS9kMi1hZG1pbi1zdGFydC1raXQtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgTWVzc2FnZSwgTWVzc2FnZUJveCB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgdXRpbCBmcm9tICdAL2xpYnMvdXRpbC5qcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgeyBhY2NvdW50TG9naW4gfSBmcm9tICdAYXBpL3N5cy5sb2dpbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIGFjdGlvbnM6IHsKICAgIC8qKgogICAgICogQGRlc2NyaXB0aW9uIOeZu+W9lQogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIHVzZXJuYW1lIHtTdHJpbmd9IOeUqOaIt+i0puWPtwogICAgICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgcGFzc3dvcmQge1N0cmluZ30g5a+G56CBCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCByb3V0ZSB7T2JqZWN0fSDnmbvlvZXmiJDlip/lkI7lrprlkJHnmoTot6/nlLHlr7nosaEg5Lu75L2VIHZ1ZS1yb3V0ZXIg5pSv5oyB55qE5qC85byPCiAgICAgKi8KICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkaXNwYXRjaCwgX3JlZjIsIF9yZWYyJHVzZXJuYW1lLCB1c2VybmFtZSwgX3JlZjIkcGFzc3dvcmQsIHBhc3N3b3JkLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9yZWYyID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiB7fSwgX3JlZjIkdXNlcm5hbWUgPSBfcmVmMi51c2VybmFtZSwgdXNlcm5hbWUgPSBfcmVmMiR1c2VybmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmMiR1c2VybmFtZSwgX3JlZjIkcGFzc3dvcmQgPSBfcmVmMi5wYXNzd29yZCwgcGFzc3dvcmQgPSBfcmVmMiRwYXNzd29yZCA9PT0gdm9pZCAwID8gJycgOiBfcmVmMiRwYXNzd29yZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGFjY291bnRMb2dpbih7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8vIOiuvue9riBjb29raWUg5LiA5a6a6KaB5a2YIHV1aWQg5ZKMIHRva2VuIOS4pOS4qiBjb29raWUKICAgICAgICAgICAgICAgIC8vIOaVtOS4quezu+e7n+S+nei1lui/meS4pOS4quaVsOaNrui/m+ihjOagoemqjOWSjOWtmOWCqAogICAgICAgICAgICAgICAgLy8gdXVpZCDmmK/nlKjmiLfouqvku73llK/kuIDmoIfor4Yg55So5oi35rOo5YaM55qE5pe25YCZ56Gu5a6aIOW5tuS4lOS4jeWPr+aUueWPmCDkuI3lj6/ph43lpI0KICAgICAgICAgICAgICAgIC8vIHRva2VuIOS7o+ihqOeUqOaIt+W9k+WJjeeZu+W9leeKtuaAgSDlu7rorq7lnKjnvZHnu5zor7fmsYLkuK3mkLrluKYgdG9rZW4KICAgICAgICAgICAgICAgIC8vIOWmguacieW/heimgSB0b2tlbiDpnIDopoHlrprml7bmm7TmlrDvvIzpu5jorqTkv53lrZjkuIDlpKkKICAgICAgICAgICAgICAgIHV0aWwuY29va2llcy5zZXQoJ3V1aWQnLCByZXMudXVpZCk7CiAgICAgICAgICAgICAgICB1dGlsLmNvb2tpZXMuc2V0KCd0b2tlbicsIHJlcy50b2tlbik7IC8vIOiuvue9riB2dWV4IOeUqOaIt+S/oeaBrwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL3VzZXIvc2V0JywgewogICAgICAgICAgICAgICAgICBuYW1lOiByZXMubmFtZQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdsb2FkJyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qKgogICAgICogQGRlc2NyaXB0aW9uIOazqOmUgOeUqOaIt+W5tui/lOWbnueZu+W9lemhtemdogogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIGNvbmZpcm0ge0Jvb2xlYW59IOaYr+WQpumcgOimgeehruiupAogICAgICovCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0LAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaDsKCiAgICAgIHZhciBfcmVmNCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sCiAgICAgICAgICBfcmVmNCRjb25maXJtID0gX3JlZjQuY29uZmlybSwKICAgICAgICAgIGNvbmZpcm0gPSBfcmVmNCRjb25maXJtID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY0JGNvbmZpcm07CgogICAgICAvKioKICAgICAgICogQGRlc2NyaXB0aW9uIOazqOmUgAogICAgICAgKi8KICAgICAgZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICAgIHJldHVybiBfbG9nb3V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0gLy8g5Yik5pat5piv5ZCm6ZyA6KaB56Gu6K6kCgoKICAgICAgZnVuY3Rpb24gX2xvZ291dCgpIHsKICAgICAgICBfbG9nb3V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIC8vIOWIoOmZpGNvb2tpZQogICAgICAgICAgICAgICAgICB1dGlsLmNvb2tpZXMucmVtb3ZlKCd0b2tlbicpOwogICAgICAgICAgICAgICAgICB1dGlsLmNvb2tpZXMucmVtb3ZlKCd1dWlkJyk7IC8vIOa4heepuiB2dWV4IOeUqOaIt+S/oeaBrwoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2QyYWRtaW4vdXNlci9zZXQnLCB7fSwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAvLyDot7Povazot6/nlLEKICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdsb2dpbicKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBfbG9nb3V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIGlmIChjb25maXJtKSB7CiAgICAgICAgY29tbWl0KCdkMmFkbWluL2dyYXkvc2V0JywgdHJ1ZSwgewogICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIE1lc3NhZ2VCb3guY29uZmlybSgn56Gu5a6a6KaB5rOo6ZSA5b2T5YmN55So5oi35ZCXJywgJ+azqOmUgOeUqOaItycsIHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgY29tbWl0KCdkMmFkbWluL2dyYXkvc2V0JywgZmFsc2UsIHsKICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICBsb2dvdXQoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjb21taXQoJ2QyYWRtaW4vZ3JheS9zZXQnLCBmYWxzZSwgewogICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICAgIE1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAn5Y+W5raI5rOo6ZSA5pON5L2cJwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9nb3V0KCk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g55So5oi355m75b2V5ZCO5LuO5oyB5LmF5YyW5pWw5o2u5Yqg6L295LiA57O75YiX55qE6K6+572uCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICovCiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKF9yZWY1KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNS5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZDJhZG1pbi91c2VyL2xvYWQnLCBudWxsLCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2QyYWRtaW4vdGhlbWUvbG9hZCcsIG51bGwsIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZDJhZG1pbi90cmFuc2l0aW9uL2xvYWQnLCBudWxsLCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2QyYWRtaW4vcGFnZS9vcGVuZWRMb2FkJywgbnVsbCwgewogICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZDJhZG1pbi9tZW51L2FzaWRlTG9hZCcsIG51bGwsIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL3NpemUvbG9hZCcsIG51bGwsIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL2NvbG9yL2xvYWQnLCBudWxsLCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:/实践/d2-admin-start-kit-master/src/store/modules/d2admin/modules/account.js"],"names":["Message","MessageBox","util","router","accountLogin","namespaced","actions","login","dispatch","username","password","res","cookies","set","uuid","token","name","root","logout","commit","confirm","remove","push","type","then","catch","message","load"],"mappings":"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","sourcesContent":["import { Message, MessageBox } from 'element-ui'\nimport util from '@/libs/util.js'\nimport router from '@/router'\nimport { accountLogin } from '@api/sys.login'\n\nexport default {\n  namespaced: true,\n  actions: {\n    /**\n     * @description 登录\n     * @param {Object} context\n     * @param {Object} payload username {String} 用户账号\n     * @param {Object} payload password {String} 密码\n     * @param {Object} payload route {Object} 登录成功后定向的路由对象 任何 vue-router 支持的格式\n     */\n    async login ({ dispatch }, {\n      username = '',\n      password = ''\n    } = {}) {\n      const res = await accountLogin({ username, password })\n      // 设置 cookie 一定要存 uuid 和 token 两个 cookie\n      // 整个系统依赖这两个数据进行校验和存储\n      // uuid 是用户身份唯一标识 用户注册的时候确定 并且不可改变 不可重复\n      // token 代表用户当前登录状态 建议在网络请求中携带 token\n      // 如有必要 token 需要定时更新，默认保存一天\n      util.cookies.set('uuid', res.uuid)\n      util.cookies.set('token', res.token)\n      // 设置 vuex 用户信息\n      await dispatch('d2admin/user/set', { name: res.name }, { root: true })\n      // 用户登录后从持久化数据加载一系列的设置\n      await dispatch('load')\n    },\n    /**\n     * @description 注销用户并返回登录页面\n     * @param {Object} context\n     * @param {Object} payload confirm {Boolean} 是否需要确认\n     */\n    logout ({ commit, dispatch }, { confirm = false } = {}) {\n      /**\n       * @description 注销\n       */\n      async function logout () {\n        // 删除cookie\n        util.cookies.remove('token')\n        util.cookies.remove('uuid')\n        // 清空 vuex 用户信息\n        await dispatch('d2admin/user/set', {}, { root: true })\n        // 跳转路由\n        router.push({ name: 'login' })\n      }\n      // 判断是否需要确认\n      if (confirm) {\n        commit('d2admin/gray/set', true, { root: true })\n        MessageBox.confirm('确定要注销当前用户吗', '注销用户', { type: 'warning' })\n          .then(() => {\n            commit('d2admin/gray/set', false, { root: true })\n            logout()\n          })\n          .catch(() => {\n            commit('d2admin/gray/set', false, { root: true })\n            Message({ message: '取消注销操作' })\n          })\n      } else {\n        logout()\n      }\n    },\n    /**\n     * @description 用户登录后从持久化数据加载一系列的设置\n     * @param {Object} context\n     */\n    async load ({ dispatch }) {\n      // 加载用户名\n      await dispatch('d2admin/user/load', null, { root: true })\n      // 加载主题\n      await dispatch('d2admin/theme/load', null, { root: true })\n      // 加载页面过渡效果设置\n      await dispatch('d2admin/transition/load', null, { root: true })\n      // 持久化数据加载上次退出时的多页列表\n      await dispatch('d2admin/page/openedLoad', null, { root: true })\n      // 持久化数据加载侧边栏配置\n      await dispatch('d2admin/menu/asideLoad', null, { root: true })\n      // 持久化数据加载全局尺寸\n      await dispatch('d2admin/size/load', null, { root: true })\n      // 持久化数据加载颜色设置\n      await dispatch('d2admin/color/load', null, { root: true })\n    }\n  }\n}\n"]}]}