{"remainingRequest":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\src\\views\\rental\\workDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\src\\views\\rental\\workDetail.vue","mtime":1590979862448},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvNTgyMTUvRGVza3RvcC9TY2hvb2xNdXN0YXJkU3BhY2UvSHRtbCAoZnJvbnQgZm9yIHVzZXIpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IENvbW1lbnRMaXN0IGZyb20gIkAvY29tcG9uZW50cy9jb21tZW50TGlzdC9jb21tZW50TGlzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicGFnZTEiLAogIGluamVjdDogWydiZWZvcmVSb3V0ZUVudGVyJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHdvcmtJbmZvOiAiIiwKICAgICAgdXNlckluZm86ICIiLAogICAgICBjb21tZW50SW5mbzogIiIsCiAgICAgIGlucHV0OiAiIiwKICAgICAgbnVtQ29tOiAiIgogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENvbW1lbnRMaXN0OiBDb21tZW50TGlzdAogIH0sCiAgbWV0aG9kczogewogICAgZ2V0aW5mbzogZnVuY3Rpb24gZ2V0aW5mbyhpdGVtKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkYXhpb3MkZ2V0LCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtKTsKICAgICAgICAgICAgICAgIF90aGlzLndvcmtJbmZvID0gaXRlbTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2FwaS91c2VyL3F1ZXJ5L2lkLyIuY29uY2F0KGl0ZW0udXNlcl9pZCkpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkYXhpb3MkZ2V0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkYXhpb3MkZ2V0LmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy51c2VySW5mbyA9IGRhdGEuZGF0YTsgLy8gY29uc29sZS5sb2codGhpcy51c2VySW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRDb21tZW50SW5mbzogZnVuY3Rpb24gZ2V0Q29tbWVudEluZm8oaXRlbSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfeWllbGQkYXhpb3MkZ2V0MiwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi9hcGkvcXVlcnkvZ29vZC9jb21tZW50L3RhYmxlX2lkLyIuY29uY2F0KGl0ZW0uaWQpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJGF4aW9zJGdldDIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkYXhpb3MkZ2V0Mi5kYXRhOwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICBfdGhpczIuY29tbWVudEluZm8gPSBkYXRhLmRhdGE7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIuY29tbWVudEluZm8pOwogICAgICAgICAgICAgICAgX3RoaXMyLm51bUNvbSA9IF90aGlzMi5jb21tZW50SW5mby5sZW5ndGg7IC8vIHRoaXMuJG9wdGlvbnMubWV0aG9kcy5nZXRVc2VyTmFtZSh0aGlzLmNvbW1lbnRJbmZvLnVzZXJfaWQpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBhc3luYyBnZXRVc2VyTmFtZSh1c2VyX2lkKSB7CiAgICAvLyAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KGAvYXBpL3VzZXIvcXVlcnkvaWQvJHt1c2VyX2lkfWApOwogICAgLy8gICBjb25zb2xlLmxvZyhkYXRhKTsKICAgIC8vIH0KICAgIHVwOiBmdW5jdGlvbiB1cCgpIHsKICAgICAgYXhpb3MuZ2V0KCIvYXBpL3JlbnRhbC91cGRhdGUvdGh1bWJVcD9pZD0iICsgdGhpcy53b3JrSW5mby5pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7fSk7CiAgICB9LAogICAgc2VuZDogZnVuY3Rpb24gc2VuZCgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICBheGlvcy5wb3N0KCIvYXBpL2dvb2QvY29tbWVudC9pbnNlcnQiLCB7CiAgICAgICAgaWQ6ICIxIiwKICAgICAgICB1c2VyX2lkOiB0aGF0LnVzZXJJbmZvLmlkLAogICAgICAgIGNvbnRlbnQ6IHRoYXQuaW5wdXQsCiAgICAgICAgcHVibGlzaF90aW1lOiAiMjAyMC8wNS0zMCIsCiAgICAgICAgdGFibGVfaWQ6IHRoYXQud29ya0luZm8uaWQsCiAgICAgICAgdGh1bWJfdXA6IDAsCiAgICAgICAgY29tbWVudDogMAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB0aGlzLiRyb3V0ZS5nbygwKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIHN0YXI6IGZ1bmN0aW9uIHN0YXIoKSB7CiAgICAgIGF4aW9zLmdldCgiL2FwaS9yZW50YWwvdXBkYXRlL2NvbGxlY3Q/aWQ9IiArIHRoaXMud29ya0luZm8uaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge30pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0aW5mbyh0aGlzLiRyb3V0ZS5wYXJhbXMuZGF0YSk7CiAgICB0aGlzLmdldENvbW1lbnRJbmZvKHRoaXMuJHJvdXRlLnBhcmFtcy5kYXRhKTsKICB9Cn07"},{"version":3,"sources":["workDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,WAAA,MAAA,sCAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,MAAA,EAAA,CAAA,kBAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GAXA;AAYA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAZA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,IADA,EACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AAFA;AAAA,uBAGA,KAAA,CAAA,GAAA,8BAAA,IAAA,CAAA,OAAA,EAHA;;AAAA;AAAA;AAGA,gBAAA,IAHA,oBAGA,IAHA;AAIA,gBAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAJA,CAKA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAPA;AAQA,IAAA,cARA,0BAQA,IARA,EAQA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,GAAA,4CACA,IAAA,CAAA,EADA,EADA;;AAAA;AAAA;AACA,gBAAA,IADA,qBACA,IADA;AAIA;AACA,gBAAA,MAAA,CAAA,WAAA,GAAA,IAAA,CAAA,IAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,WAAA;AACA,gBAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,WAAA,CAAA,MAAA,CAPA,CASA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,KAlBA;AAmBA;AACA;AACA;AACA;AAEA,IAAA,EAxBA,gBAwBA;AACA,MAAA,KAAA,CACA,GADA,CACA,mCAAA,KAAA,QAAA,CAAA,EADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA,CAAA,CAFA;AAGA,KA5BA;AA6BA,IAAA,IA7BA,kBA6BA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,IADA,CACA,0BADA,EACA;AACA,QAAA,EAAA,EAAA,GADA;AAEA,QAAA,OAAA,EAAA,IAAA,CAAA,QAAA,CAAA,EAFA;AAGA,QAAA,OAAA,EAAA,IAAA,CAAA,KAHA;AAIA,QAAA,YAAA,EAAA,YAJA;AAKA,QAAA,QAAA,EAAA,IAAA,CAAA,QAAA,CAAA,EALA;AAMA,QAAA,QAAA,EAAA,CANA;AAOA,QAAA,OAAA,EAAA;AAPA,OADA,EAUA,IAVA,CAUA,UAAA,GAAA,EAAA;AACA,aAAA,MAAA,CAAA,EAAA,CAAA,CAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;AACA,OAbA;AAcA,KA7CA;AA8CA,IAAA,IA9CA,kBA8CA;AACA,MAAA,KAAA,CACA,GADA,CACA,mCAAA,KAAA,QAAA,CAAA,EADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA,CAAA,CAFA;AAGA;AAlDA,GAfA;AAmEA,EAAA,OAnEA,qBAmEA;AACA,SAAA,OAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA;AACA,SAAA,cAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA;AACA;AAtEA,CAAA","sourcesContent":["<template>\n  <d2-container>\n    <div class=\"detail\">\n      <div>\n        <img src alt />\n        <span class=\"username\">{{userInfo.name}}</span>\n        <span class=\"end-time\">截止于 {{workInfo.end_time}}</span>\n      </div>\n      <!-- <span class=\"lable\">其他</span> -->\n      <div class=\"title\">{{workInfo.title}}</div>\n      <p class=\"content\">{{workInfo.content}}</p>\n      <img class=\"img\" v-lazy=\"`${workInfo.image}?param=200y200`\" alt />\n      <div style=\"height:20px\">\n        <span class=\"start-time d2-fr\">发布于{{workInfo.start_time}}</span>\n      </div>\n    </div>\n    <div class=\"tcc\">\n      <p>\n        <a>\n          <i class=\"fa fa-thumbs-o-up\" aria-hidden=\"true\" @click=\"up\"></i>\n        </a>\n        <span>{{workInfo.thumb_up}}</span>\n      </p>\n      <p>\n        <a @click=\"star\">\n          <i class=\"el-icon-star-off\"></i>\n        </a>\n        <span>{{workInfo.collect}}</span>\n      </p>\n      <p>\n        <i class=\"fa fa-comment-o itop\" aria-hidden=\"true\"></i>\n        <span>{{numCom}}</span>\n      </p>\n    </div>\n    <comment-list :data=\"commentInfo\"></comment-list>\n    <div>\n      <div style=\"margin-top: 15px;\">\n        <el-input placeholder=\"请输入内容\" v-model=\"input\"></el-input>\n        <el-button @click=\"send\">发送</el-button>\n      </div>\n    </div>\n  </d2-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport CommentList from \"@/components/commentList/commentList\";\nexport default {\n  name: \"page1\",\n  inject:['beforeRouteEnter'],\n  data() {\n    return {\n      workInfo: \"\",\n      userInfo: \"\",\n      commentInfo: \"\",\n      input: \"\",\n      numCom: \"\"\n    };\n  },\n  components: {\n    CommentList\n  },\n  methods: {\n    async getinfo(item) {\n      // console.log(item);\n      this.workInfo = item;\n      const { data } = await axios.get(`/api/user/query/id/${item.user_id}`);\n      this.userInfo = data.data;\n      // console.log(this.userInfo);\n    },\n    async getCommentInfo(item) {\n      const { data } = await axios.get(\n        `/api/query/good/comment/table_id/${item.id}`\n      );\n      // console.log(data);\n      this.commentInfo = data.data;\n      console.log(this.commentInfo);\n      this.numCom = this.commentInfo.length;\n\n      // this.$options.methods.getUserName(this.commentInfo.user_id);\n    },\n    // async getUserName(user_id) {\n    //   const { data } = await axios.get(`/api/user/query/id/${user_id}`);\n    //   console.log(data);\n    // }\n\n    up() {\n      axios\n        .get(\"/api/rental/update/thumbUp?id=\" + this.workInfo.id)\n        .then(function(res) {});\n    },\n    send() {\n      var that = this;\n      axios\n        .post(\"/api/good/comment/insert\", {\n          id: \"1\",\n          user_id: that.userInfo.id,\n          content: that.input,\n          publish_time: \"2020/05-30\",\n          table_id: that.workInfo.id,\n          thumb_up: 0,\n          comment: 0\n        })\n        .then(function(res) {\n          this.$route.go(0)\n          console.log(res.data);\n        });\n    },\n    star() {\n      axios\n        .get(\"/api/rental/update/collect?id=\" + this.workInfo.id)\n        .then(function(res) {});\n    }\n  },\n  created() {\n    this.getinfo(this.$route.params.data);\n    this.getCommentInfo(this.$route.params.data);\n  }\n};\n</script>\n<style lang = \"less\" scoped>\n.detail {\n  border: 2px solid #e6e6e6;\n  height: auto;\n  .username {\n    font-size: 20px;\n  }\n  .end-time {\n    font-size: 15px;\n    color: gray;\n    margin-left: 20px;\n  }\n  .lable {\n    border: 1px solid #e6e6e6;\n    font-size: 15px;\n    padding: 2px 4px;\n    margin-top: 10px;\n    display: inline-block;\n  }\n  .title {\n    font-size: 30px;\n  }\n  .content {\n    color: #656565;\n  }\n  .img {\n    /* width: 300px; */\n    display: block;\n    height: 300px;\n  }\n  .start-time {\n    /* border: 1px solid red; */\n    font-size: 15px;\n    color: gray;\n    /* position: absolute; */\n    /* left: 80%; */\n  }\n}\n.tcc {\n  margin-top: -10px;\n  p {\n    padding: 0;\n    display: inline-block;\n    margin-right: 20px;\n  }\n  span {\n    margin-left: 5px;\n    color: black;\n  }\n  flex-direction: row;\n}\n.itop {\n  display: inline-block;\n  margin-bottom: 5px;\n}\n</style>"],"sourceRoot":"src/views/rental"}]}