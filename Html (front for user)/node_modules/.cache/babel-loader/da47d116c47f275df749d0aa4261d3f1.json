{"remainingRequest":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\src\\layout\\header-aside\\mixins\\search.js","dependencies":[{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\src\\layout\\header-aside\\mixins\\search.js","mtime":1590487885000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\eslint-loader\\index.js","mtime":1588755592739}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzLzU4MjE1L0Rlc2t0b3AvU2Nob29sTXVzdGFyZFNwYWNlL0h0bWwgKGZyb250IGZvciB1c2VyKS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGhvdGtleXMgZnJvbSAnaG90a2V5cy1qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAnZDItcGFuZWwtc2VhcmNoJzogZnVuY3Rpb24gZDJQYW5lbFNlYXJjaCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vY29tcG9uZW50cy9wYW5lbC1zZWFyY2gnKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8vIOe7keWumuaQnOe0ouWKn+iDveW/q+aNt+mUriBbIOaJk+W8gCBdCiAgICBob3RrZXlzKHRoaXMuc2VhcmNoSG90a2V5Lm9wZW4sIGZ1bmN0aW9uIChldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgX3RoaXMuc2VhcmNoUGFuZWxPcGVuKCk7CiAgICB9KTsgLy8g57uR5a6a5pCc57Si5Yqf6IO95b+r5o236ZSuIFsg5YWz6ZetIF0KCiAgICBob3RrZXlzKHRoaXMuc2VhcmNoSG90a2V5LmNsb3NlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgIF90aGlzLnNlYXJjaFBhbmVsQ2xvc2UoKTsKICAgIH0pOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGhvdGtleXMudW5iaW5kKHRoaXMuc2VhcmNoSG90a2V5Lm9wZW4pOwogICAgaG90a2V5cy51bmJpbmQodGhpcy5zZWFyY2hIb3RrZXkuY2xvc2UpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdkMmFkbWluJywgewogICAgc2VhcmNoQWN0aXZlOiBmdW5jdGlvbiBzZWFyY2hBY3RpdmUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNlYXJjaC5hY3RpdmU7CiAgICB9LAogICAgc2VhcmNoSG90a2V5OiBmdW5jdGlvbiBzZWFyY2hIb3RrZXkoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNlYXJjaC5ob3RrZXk7CiAgICB9CiAgfSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKHsKICAgIHNlYXJjaFRvZ2dsZTogJ2QyYWRtaW4vc2VhcmNoL3RvZ2dsZScsCiAgICBzZWFyY2hTZXQ6ICdkMmFkbWluL3NlYXJjaC9zZXQnCiAgfSkpLCB7fSwgewogICAgLyoqCiAgICAgKiDmjqXmlLbngrnlh7vmkJzntKLmjInpkq4KICAgICAqLwogICAgaGFuZGxlU2VhcmNoQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZVNlYXJjaENsaWNrKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc2VhcmNoVG9nZ2xlKCk7CgogICAgICBpZiAodGhpcy5zZWFyY2hBY3RpdmUpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChfdGhpczIuJHJlZnMucGFuZWxTZWFyY2gpIHsKICAgICAgICAgICAgX3RoaXMyLiRyZWZzLnBhbmVsU2VhcmNoLmZvY3VzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgNTAwKTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaFBhbmVsT3BlbjogZnVuY3Rpb24gc2VhcmNoUGFuZWxPcGVuKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5zZWFyY2hBY3RpdmUpIHsKICAgICAgICB0aGlzLnNlYXJjaFNldCh0cnVlKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChfdGhpczMuJHJlZnMucGFuZWxTZWFyY2gpIHsKICAgICAgICAgICAgX3RoaXMzLiRyZWZzLnBhbmVsU2VhcmNoLmZvY3VzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgNTAwKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+mXreaQnOe0oumdouadvwogICAgc2VhcmNoUGFuZWxDbG9zZTogZnVuY3Rpb24gc2VhcmNoUGFuZWxDbG9zZSgpIHsKICAgICAgaWYgKHRoaXMuc2VhcmNoQWN0aXZlKSB7CiAgICAgICAgdGhpcy5zZWFyY2hTZXQoZmFsc2UpOwogICAgICB9CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["C:/Users/58215/Desktop/SchoolMustardSpace/Html (front for user)/src/layout/header-aside/mixins/search.js"],"names":["mapState","mapMutations","hotkeys","components","mounted","searchHotkey","open","event","preventDefault","searchPanelOpen","close","searchPanelClose","beforeDestroy","unbind","computed","searchActive","state","search","active","hotkey","methods","searchToggle","searchSet","handleSearchClick","setTimeout","$refs","panelSearch","focus"],"mappings":";;;;AAAA,SAASA,QAAT,EAAmBC,YAAnB,QAAuC,MAAvC;AAEA,OAAOC,OAAP,MAAoB,YAApB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE;AACV,uBAAmB;AAAA,aAAM,OAAO,4BAAP,CAAN;AAAA;AADT,GADC;AAIbC,EAAAA,OAJa,qBAIF;AAAA;;AACT;AACAF,IAAAA,OAAO,CAAC,KAAKG,YAAL,CAAkBC,IAAnB,EAAyB,UAAAC,KAAK,EAAI;AACvCA,MAAAA,KAAK,CAACC,cAAN;;AACA,MAAA,KAAI,CAACC,eAAL;AACD,KAHM,CAAP,CAFS,CAMT;;AACAP,IAAAA,OAAO,CAAC,KAAKG,YAAL,CAAkBK,KAAnB,EAA0B,UAAAH,KAAK,EAAI;AACxCA,MAAAA,KAAK,CAACC,cAAN;;AACA,MAAA,KAAI,CAACG,gBAAL;AACD,KAHM,CAAP;AAID,GAfY;AAgBbC,EAAAA,aAhBa,2BAgBI;AACfV,IAAAA,OAAO,CAACW,MAAR,CAAe,KAAKR,YAAL,CAAkBC,IAAjC;AACAJ,IAAAA,OAAO,CAACW,MAAR,CAAe,KAAKR,YAAL,CAAkBK,KAAjC;AACD,GAnBY;AAoBbI,EAAAA,QAAQ,oBACHd,QAAQ,CAAC,SAAD,EAAY;AACrBe,IAAAA,YAAY,EAAE,sBAAAC,KAAK;AAAA,aAAIA,KAAK,CAACC,MAAN,CAAaC,MAAjB;AAAA,KADE;AAErBb,IAAAA,YAAY,EAAE,sBAAAW,KAAK;AAAA,aAAIA,KAAK,CAACC,MAAN,CAAaE,MAAjB;AAAA;AAFE,GAAZ,CADL,CApBK;AA0BbC,EAAAA,OAAO,kCACFnB,YAAY,CAAC;AACdoB,IAAAA,YAAY,EAAE,uBADA;AAEdC,IAAAA,SAAS,EAAE;AAFG,GAAD,CADV;AAKL;;;AAGAC,IAAAA,iBARK,+BAQgB;AAAA;;AACnB,WAAKF,YAAL;;AACA,UAAI,KAAKN,YAAT,EAAuB;AACrBS,QAAAA,UAAU,CAAC,YAAM;AACf,cAAI,MAAI,CAACC,KAAL,CAAWC,WAAf,EAA4B;AAC1B,YAAA,MAAI,CAACD,KAAL,CAAWC,WAAX,CAAuBC,KAAvB;AACD;AACF,SAJS,EAIP,GAJO,CAAV;AAKD;AACF,KAjBI;AAkBLlB,IAAAA,eAlBK,6BAkBc;AAAA;;AACjB,UAAI,CAAC,KAAKM,YAAV,EAAwB;AACtB,aAAKO,SAAL,CAAe,IAAf;AACAE,QAAAA,UAAU,CAAC,YAAM;AACf,cAAI,MAAI,CAACC,KAAL,CAAWC,WAAf,EAA4B;AAC1B,YAAA,MAAI,CAACD,KAAL,CAAWC,WAAX,CAAuBC,KAAvB;AACD;AACF,SAJS,EAIP,GAJO,CAAV;AAKD;AACF,KA3BI;AA4BL;AACAhB,IAAAA,gBA7BK,8BA6Be;AAClB,UAAI,KAAKI,YAAT,EAAuB;AACrB,aAAKO,SAAL,CAAe,KAAf;AACD;AACF;AAjCI;AA1BM,CAAf","sourcesContent":["import { mapState, mapMutations } from 'vuex'\n\nimport hotkeys from 'hotkeys-js'\n\nexport default {\n  components: {\n    'd2-panel-search': () => import('../components/panel-search')\n  },\n  mounted () {\n    // 绑定搜索功能快捷键 [ 打开 ]\n    hotkeys(this.searchHotkey.open, event => {\n      event.preventDefault()\n      this.searchPanelOpen()\n    })\n    // 绑定搜索功能快捷键 [ 关闭 ]\n    hotkeys(this.searchHotkey.close, event => {\n      event.preventDefault()\n      this.searchPanelClose()\n    })\n  },\n  beforeDestroy () {\n    hotkeys.unbind(this.searchHotkey.open)\n    hotkeys.unbind(this.searchHotkey.close)\n  },\n  computed: {\n    ...mapState('d2admin', {\n      searchActive: state => state.search.active,\n      searchHotkey: state => state.search.hotkey\n    })\n  },\n  methods: {\n    ...mapMutations({\n      searchToggle: 'd2admin/search/toggle',\n      searchSet: 'd2admin/search/set'\n    }),\n    /**\n     * 接收点击搜索按钮\n     */\n    handleSearchClick () {\n      this.searchToggle()\n      if (this.searchActive) {\n        setTimeout(() => {\n          if (this.$refs.panelSearch) {\n            this.$refs.panelSearch.focus()\n          }\n        }, 500)\n      }\n    },\n    searchPanelOpen () {\n      if (!this.searchActive) {\n        this.searchSet(true)\n        setTimeout(() => {\n          if (this.$refs.panelSearch) {\n            this.$refs.panelSearch.focus()\n          }\n        }, 500)\n      }\n    },\n    // 关闭搜索面板\n    searchPanelClose () {\n      if (this.searchActive) {\n        this.searchSet(false)\n      }\n    }\n  }\n}\n"]}]}