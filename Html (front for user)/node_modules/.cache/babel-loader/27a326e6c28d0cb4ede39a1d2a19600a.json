{"remainingRequest":"C:\\Code\\软工时间寒假作业\\schoolSpace\\node_modules\\babel-loader\\lib\\index.js!C:\\Code\\软工时间寒假作业\\schoolSpace\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Code\\软工时间寒假作业\\schoolSpace\\src\\store\\modules\\d2admin\\modules\\color.js","dependencies":[{"path":"C:\\Code\\软工时间寒假作业\\schoolSpace\\src\\store\\modules\\d2admin\\modules\\color.js","mtime":1590487885000},{"path":"C:\\Code\\软工时间寒假作业\\schoolSpace\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Code\\软工时间寒假作业\\schoolSpace\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Code\\软工时间寒假作业\\schoolSpace\\node_modules\\eslint-loader\\index.js","mtime":1588755592739}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovQ29kZS9cdThGNkZcdTVERTVcdTY1RjZcdTk1RjRcdTVCRDJcdTUwNDdcdTRGNUNcdTRFMUEvc2Nob29sU3BhY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovQ29kZS9cdThGNkZcdTVERTVcdTY1RjZcdTk1RjRcdTVCRDJcdTUwNDdcdTRGNUNcdTRFMUEvc2Nob29sU3BhY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgY2xpZW50IGZyb20gJ3dlYnBhY2stdGhlbWUtY29sb3ItcmVwbGFjZXIvY2xpZW50JzsKaW1wb3J0IGZvckVsZW1lbnRVSSBmcm9tICd3ZWJwYWNrLXRoZW1lLWNvbG9yLXJlcGxhY2VyL2ZvckVsZW1lbnRVSSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICAvLyDpopzoibIKICAgIHZhbHVlOiBwcm9jZXNzLmVudi5WVUVfQVBQX0VMRU1FTlRfQ09MT1IKICB9LAogIGFjdGlvbnM6IHsKICAgIC8qKgogICAgICogQGRlc2NyaXB0aW9uIOiuvue9ruminOiJsgogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQKICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvciDlsLrlr7gKICAgICAqLwogICAgc2V0OiBmdW5jdGlvbiBzZXQoX3JlZiwgY29sb3IpIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCwKICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc29sdmUpIHsKICAgICAgICAgIHZhciBvbGQ7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIC8vIOiusOW9leS4iuS4quWAvAogICAgICAgICAgICAgICAgICBvbGQgPSBzdGF0ZS52YWx1ZTsgLy8gc3RvcmUg6LWL5YC8CgogICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZSA9IGNvbG9yIHx8IHByb2Nlc3MuZW52LlZVRV9BUFBfRUxFTUVOVF9DT0xPUjsgLy8g5oyB5LmF5YyWCgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL2RiL3NldCcsIHsKICAgICAgICAgICAgICAgICAgICBkYk5hbWU6ICdzeXMnLAogICAgICAgICAgICAgICAgICAgIHBhdGg6ICdjb2xvci52YWx1ZScsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHVzZXI6IHRydWUKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAvLyDlupTnlKgKICAgICAgICAgICAgICAgICAgY29tbWl0KCdhcHBseScsIHsKICAgICAgICAgICAgICAgICAgICBvbGRDb2xvcjogb2xkLAogICAgICAgICAgICAgICAgICAgIG5ld0NvbG9yOiBzdGF0ZS52YWx1ZQogICAgICAgICAgICAgICAgICB9KTsgLy8gZW5kCgogICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g5LuO5oyB5LmF5YyW5pWw5o2u6K+75Y+W6aKc6Imy6K6+572uCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICovCiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKF9yZWYzKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWYzLnN0YXRlLAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaCwKICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzb2x2ZSkgewogICAgICAgICAgdmFyIG9sZDsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIC8vIOiusOW9leS4iuS4quWAvAogICAgICAgICAgICAgICAgICBvbGQgPSBzdGF0ZS52YWx1ZTsgLy8gc3RvcmUg6LWL5YC8CgogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZDJhZG1pbi9kYi9nZXQnLCB7CiAgICAgICAgICAgICAgICAgICAgZGJOYW1lOiAnc3lzJywKICAgICAgICAgICAgICAgICAgICBwYXRoOiAnY29sb3IudmFsdWUnLAogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9FTEVNRU5UX0NPTE9SLAogICAgICAgICAgICAgICAgICAgIHVzZXI6IHRydWUKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgICAvLyDlupTnlKgKICAgICAgICAgICAgICAgICAgY29tbWl0KCdhcHBseScsIHsKICAgICAgICAgICAgICAgICAgICBvbGRDb2xvcjogb2xkLAogICAgICAgICAgICAgICAgICAgIG5ld0NvbG9yOiBzdGF0ZS52YWx1ZQogICAgICAgICAgICAgICAgICB9KTsgLy8gZW5kCgogICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g5bCGIHZ1ZXgg5Lit55qE5Li76aKY6aKc6Imy6K6+572u5bqU55So5Yiw57O757uf5LitCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgb2xkQ29sb3Ige1N0cmluZ30g5pen55qE6aKc6ImyCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCBuZXdDb2xvciB7U3RyaW5nfSDmlrDpopzoibIKICAgICAqLwogICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KHN0YXRlLCBfcmVmNSkgewogICAgICB2YXIgb2xkQ29sb3IgPSBfcmVmNS5vbGRDb2xvciwKICAgICAgICAgIG5ld0NvbG9yID0gX3JlZjUubmV3Q29sb3I7CiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgIG9sZENvbG9yczogX3RvQ29uc3VtYWJsZUFycmF5KGZvckVsZW1lbnRVSS5nZXRFbGVtZW50VUlTZXJpZXMob2xkQ29sb3IpKSwKICAgICAgICBuZXdDb2xvcnM6IF90b0NvbnN1bWFibGVBcnJheShmb3JFbGVtZW50VUkuZ2V0RWxlbWVudFVJU2VyaWVzKG5ld0NvbG9yKSkKICAgICAgfTsKICAgICAgY2xpZW50LmNoYW5nZXIuY2hhbmdlQ29sb3Iob3B0aW9ucyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:/Code/软工时间寒假作业/schoolSpace/src/store/modules/d2admin/modules/color.js"],"names":["client","forElementUI","namespaced","state","value","process","env","VUE_APP_ELEMENT_COLOR","actions","set","color","dispatch","commit","Promise","resolve","old","dbName","path","user","root","oldColor","newColor","load","defaultValue","mutations","apply","options","oldColors","getElementUISeries","newColors","changer","changeColor"],"mappings":"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","sourcesContent":["import client from 'webpack-theme-color-replacer/client'\nimport forElementUI from 'webpack-theme-color-replacer/forElementUI'\n\nexport default {\n  namespaced: true,\n  state: {\n    // 颜色\n    value: process.env.VUE_APP_ELEMENT_COLOR\n  },\n  actions: {\n    /**\n     * @description 设置颜色\n     * @param {Object} context\n     * @param {String} color 尺寸\n     */\n    set ({ state, dispatch, commit }, color) {\n      return new Promise(async resolve => {\n        // 记录上个值\n        const old = state.value\n        // store 赋值\n        state.value = color || process.env.VUE_APP_ELEMENT_COLOR\n        // 持久化\n        await dispatch('d2admin/db/set', {\n          dbName: 'sys',\n          path: 'color.value',\n          value: state.value,\n          user: true\n        }, { root: true })\n        // 应用\n        commit('apply', {\n          oldColor: old,\n          newColor: state.value\n        })\n        // end\n        resolve()\n      })\n    },\n    /**\n     * @description 从持久化数据读取颜色设置\n     * @param {Object} context\n     */\n    load ({ state, dispatch, commit }) {\n      return new Promise(async resolve => {\n        // 记录上个值\n        const old = state.value\n        // store 赋值\n        state.value = await dispatch('d2admin/db/get', {\n          dbName: 'sys',\n          path: 'color.value',\n          defaultValue: process.env.VUE_APP_ELEMENT_COLOR,\n          user: true\n        }, { root: true })\n        // 应用\n        commit('apply', {\n          oldColor: old,\n          newColor: state.value\n        })\n        // end\n        resolve()\n      })\n    }\n  },\n  mutations: {\n    /**\n     * @description 将 vuex 中的主题颜色设置应用到系统中\n     * @param {Object} context\n     * @param {Object} payload oldColor {String} 旧的颜色\n     * @param {Object} payload newColor {String} 新颜色\n     */\n    apply (state, { oldColor, newColor }) {\n      var options = {\n        oldColors: [...forElementUI.getElementUISeries(oldColor)],\n        newColors: [...forElementUI.getElementUISeries(newColor)]\n      }\n      client.changer.changeColor(options)\n    }\n  }\n}\n"]}]}