{"remainingRequest":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\src\\store\\modules\\d2admin\\modules\\log.js","dependencies":[{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\src\\store\\modules\\d2admin\\modules\\log.js","mtime":1590487885000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\node_modules\\eslint-loader\\index.js","mtime":1588755592739}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvNTgyMTUvRGVza3RvcC9TY2hvb2xNdXN0YXJkU3BhY2UvSHRtbCAoZnJvbnQgZm9yIHVzZXIpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHV0aWwgZnJvbSAnQC9saWJzL3V0aWwuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgLy8g6ZSZ6K+v5pel5b+XCiAgICAvLyArIOaXpeW/l+adoeebrueahOWxnuaApwogICAgLy8gICAtIG1lc3NhZ2Ug5b+F6aG7IOaXpeW/l+S/oeaBrwogICAgLy8gICAtIHR5cGUg6Z2e5b+F6aG7IOexu+WeiyBzdWNjZXNzIHwgd2FybmluZyB8IGluZm8o6buY6K6kKSB8IGRhbmdlcgogICAgLy8gICAtIHRpbWUg5b+F6aG7IOaXpeW/l+iusOW9leaXtumXtAogICAgLy8gICAtIG1ldGEg6Z2e5b+F6aG7IOWFtuWug+aQuuW4puS/oeaBrwogICAgbG9nOiBbXQogIH0sCiAgZ2V0dGVyczogewogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g6L+U5Zue546w5a2YIGxvZyAoYWxsKSDnmoTmnaHmlbAKICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgdnVleCBzdGF0ZQogICAgICovCiAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9nLmxlbmd0aDsKICAgIH0sCgogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g6L+U5Zue546w5a2YIGxvZyAoZXJyb3IpIOeahOadoeaVsAogICAgICogQHBhcmFtIHsqfSBzdGF0ZSB2dWV4IHN0YXRlCiAgICAgKi8KICAgIGxlbmd0aEVycm9yOiBmdW5jdGlvbiBsZW5ndGhFcnJvcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9nLmZpbHRlcihmdW5jdGlvbiAobG9nKSB7CiAgICAgICAgcmV0dXJuIGxvZy50eXBlID09PSAnZGFuZ2VyJzsKICAgICAgfSkubGVuZ3RoOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g5re75Yqg5LiA5Liq5pel5b+XCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtTdHJpbmd9IHBhcmFtIG1lc3NhZ2Uge1N0cmluZ30g5L+h5oGvCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFyYW0gdHlwZSB7U3RyaW5nfSDnsbvlnosKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIG1ldGEge09iamVjdH0g6ZmE5bim55qE5L+h5oGvCiAgICAgKi8KICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goX3JlZiwgX3JlZjIpIHsKICAgICAgdmFyIHJvb3RTdGF0ZSA9IF9yZWYucm9vdFN0YXRlLAogICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHZhciBtZXNzYWdlID0gX3JlZjIubWVzc2FnZSwKICAgICAgICAgIF9yZWYyJHR5cGUgPSBfcmVmMi50eXBlLAogICAgICAgICAgdHlwZSA9IF9yZWYyJHR5cGUgPT09IHZvaWQgMCA/ICdpbmZvJyA6IF9yZWYyJHR5cGUsCiAgICAgICAgICBtZXRhID0gX3JlZjIubWV0YTsKICAgICAgY29tbWl0KCdwdXNoJywgewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICB0aW1lOiBkYXlqcygpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpLAogICAgICAgIG1ldGE6IF9vYmplY3RTcHJlYWQoewogICAgICAgICAgLy8g5b2T5YmN55So5oi35L+h5oGvCiAgICAgICAgICB1c2VyOiByb290U3RhdGUuZDJhZG1pbi51c2VyLmluZm8sCiAgICAgICAgICAvLyDlvZPliY3nlKjmiLfnmoQgdXVpZAogICAgICAgICAgdXVpZDogdXRpbC5jb29raWVzLmdldCgndXVpZCcpLAogICAgICAgICAgLy8g5b2T5YmN55qEIHRva2VuCiAgICAgICAgICB0b2tlbjogdXRpbC5jb29raWVzLmdldCgndG9rZW4nKSwKICAgICAgICAgIC8vIOW9k+WJjeWcsOWdgAogICAgICAgICAgdXJsOiBnZXQod2luZG93LCAnbG9jYXRpb24uaHJlZicsICcnKQogICAgICAgIH0sIG1ldGEpCiAgICAgIH0pOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDmt7vliqDml6Xlv5cKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBzdGF0ZQogICAgICogQHBhcmFtIHtPYmplY3R9IGxvZyBkYXRhCiAgICAgKi8KICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goc3RhdGUsIGxvZykgewogICAgICBzdGF0ZS5sb2cucHVzaChsb2cpOwogICAgfSwKCiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDmuIXnqbrml6Xlv5cKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBzdGF0ZQogICAgICovCiAgICBjbGVhbjogZnVuY3Rpb24gY2xlYW4oc3RhdGUpIHsKICAgICAgLy8gc3RvcmUg6LWL5YC8CiAgICAgIHN0YXRlLmxvZyA9IFtdOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Users/58215/Desktop/SchoolMustardSpace/Html (front for user)/src/store/modules/d2admin/modules/log.js"],"names":["dayjs","get","util","namespaced","state","log","getters","length","lengthError","filter","type","actions","push","rootState","commit","message","meta","time","format","user","d2admin","info","uuid","cookies","token","url","window","mutations","clean"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,QAApB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,KAAK,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACAC,IAAAA,GAAG,EAAE;AAPA,GAFM;AAWbC,EAAAA,OAAO,EAAE;AACP;;;;AAIAC,IAAAA,MALO,kBAKCH,KALD,EAKQ;AACb,aAAOA,KAAK,CAACC,GAAN,CAAUE,MAAjB;AACD,KAPM;;AAQP;;;;AAIAC,IAAAA,WAZO,uBAYMJ,KAZN,EAYa;AAClB,aAAOA,KAAK,CAACC,GAAN,CAAUI,MAAV,CAAiB,UAAAJ,GAAG;AAAA,eAAIA,GAAG,CAACK,IAAJ,KAAa,QAAjB;AAAA,OAApB,EAA+CH,MAAtD;AACD;AAdM,GAXI;AA2BbI,EAAAA,OAAO,EAAE;AACP;;;;;;;AAOAC,IAAAA,IARO,6BAQwD;AAAA,UAAvDC,SAAuD,QAAvDA,SAAuD;AAAA,UAA5CC,MAA4C,QAA5CA,MAA4C;AAAA,UAAhCC,OAAgC,SAAhCA,OAAgC;AAAA,6BAAvBL,IAAuB;AAAA,UAAvBA,IAAuB,2BAAhB,MAAgB;AAAA,UAARM,IAAQ,SAARA,IAAQ;AAC7DF,MAAAA,MAAM,CAAC,MAAD,EAAS;AACbC,QAAAA,OAAO,EAAPA,OADa;AAEbL,QAAAA,IAAI,EAAJA,IAFa;AAGbO,QAAAA,IAAI,EAAEjB,KAAK,GAAGkB,MAAR,CAAe,qBAAf,CAHO;AAIbF,QAAAA,IAAI;AACF;AACAG,UAAAA,IAAI,EAAEN,SAAS,CAACO,OAAV,CAAkBD,IAAlB,CAAuBE,IAF3B;AAGF;AACAC,UAAAA,IAAI,EAAEpB,IAAI,CAACqB,OAAL,CAAatB,GAAb,CAAiB,MAAjB,CAJJ;AAKF;AACAuB,UAAAA,KAAK,EAAEtB,IAAI,CAACqB,OAAL,CAAatB,GAAb,CAAiB,OAAjB,CANL;AAOF;AACAwB,UAAAA,GAAG,EAAExB,GAAG,CAACyB,MAAD,EAAS,eAAT,EAA0B,EAA1B;AARN,WAUCV,IAVD;AAJS,OAAT,CAAN;AAiBD;AA1BM,GA3BI;AAuDbW,EAAAA,SAAS,EAAE;AACT;;;;;AAKAf,IAAAA,IANS,gBAMHR,KANG,EAMIC,GANJ,EAMS;AAChBD,MAAAA,KAAK,CAACC,GAAN,CAAUO,IAAV,CAAeP,GAAf;AACD,KARQ;;AAST;;;;AAIAuB,IAAAA,KAbS,iBAaFxB,KAbE,EAaK;AACZ;AACAA,MAAAA,KAAK,CAACC,GAAN,GAAY,EAAZ;AACD;AAhBQ;AAvDE,CAAf","sourcesContent":["import dayjs from 'dayjs'\nimport { get } from 'lodash'\nimport util from '@/libs/util.js'\n\nexport default {\n  namespaced: true,\n  state: {\n    // 错误日志\n    // + 日志条目的属性\n    //   - message 必须 日志信息\n    //   - type 非必须 类型 success | warning | info(默认) | danger\n    //   - time 必须 日志记录时间\n    //   - meta 非必须 其它携带信息\n    log: []\n  },\n  getters: {\n    /**\n     * @description 返回现存 log (all) 的条数\n     * @param {*} state vuex state\n     */\n    length (state) {\n      return state.log.length\n    },\n    /**\n     * @description 返回现存 log (error) 的条数\n     * @param {*} state vuex state\n     */\n    lengthError (state) {\n      return state.log.filter(log => log.type === 'danger').length\n    }\n  },\n  actions: {\n    /**\n     * @description 添加一个日志\n     * @param {Object} context\n     * @param {String} param message {String} 信息\n     * @param {String} param type {String} 类型\n     * @param {Object} payload meta {Object} 附带的信息\n     */\n    push ({ rootState, commit }, { message, type = 'info', meta }) {\n      commit('push', {\n        message,\n        type,\n        time: dayjs().format('YYYY-MM-DD HH:mm:ss'),\n        meta: {\n          // 当前用户信息\n          user: rootState.d2admin.user.info,\n          // 当前用户的 uuid\n          uuid: util.cookies.get('uuid'),\n          // 当前的 token\n          token: util.cookies.get('token'),\n          // 当前地址\n          url: get(window, 'location.href', ''),\n          // 用户设置\n          ...meta\n        }\n      })\n    }\n  },\n  mutations: {\n    /**\n     * @description 添加日志\n     * @param {Object} state state\n     * @param {Object} log data\n     */\n    push (state, log) {\n      state.log.push(log)\n    },\n    /**\n     * @description 清空日志\n     * @param {Object} state state\n     */\n    clean (state) {\n      // store 赋值\n      state.log = []\n    }\n  }\n}\n"]}]}