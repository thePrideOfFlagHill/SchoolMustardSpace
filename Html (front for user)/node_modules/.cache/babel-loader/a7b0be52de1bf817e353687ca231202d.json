{"remainingRequest":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\babel-loader\\lib\\index.js!D:\\实践\\d2-admin-start-kit-master\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\实践\\d2-admin-start-kit-master\\src\\store\\modules\\d2admin\\modules\\transition.js","dependencies":[{"path":"D:\\实践\\d2-admin-start-kit-master\\src\\store\\modules\\d2admin\\modules\\transition.js","mtime":1587908413000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NUI5RVx1OERGNS9kMi1hZG1pbi1zdGFydC1raXQtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8g6K6+572u5paH5Lu2CmltcG9ydCBzZXR0aW5nIGZyb20gJ0Avc2V0dGluZy5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICAvLyDmmK/lkKblvIDlkK/pobXpnaLov4fluqbliqjnlLsKICAgIGFjdGl2ZTogc2V0dGluZy50cmFuc2l0aW9uLmFjdGl2ZQogIH0sCiAgYWN0aW9uczogewogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g6K6+572u5byA5ZCv54q25oCBCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtCb29sZWFufSBhY3RpdmUg5paw55qE54q25oCBCiAgICAgKi8KICAgIHNldDogZnVuY3Rpb24gc2V0KF9yZWYsIGFjdGl2ZSkgewogICAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc29sdmUpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgLy8gc3RvcmUg6LWL5YC8CiAgICAgICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZSA9IGFjdGl2ZTsgLy8g5oyB5LmF5YyWCgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL2RiL3NldCcsIHsKICAgICAgICAgICAgICAgICAgICBkYk5hbWU6ICdzeXMnLAogICAgICAgICAgICAgICAgICAgIHBhdGg6ICd0cmFuc2l0aW9uLmFjdGl2ZScsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLmFjdGl2ZSwKICAgICAgICAgICAgICAgICAgICB1c2VyOiB0cnVlCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgLy8gZW5kCiAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSwKCiAgICAvKioKICAgICAqIOS7juaVsOaNruW6k+ivu+WPlumhtemdoui/h+a4oeWKqOeUu+iuvue9rgogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQKICAgICAqLwogICAgbG9hZDogZnVuY3Rpb24gbG9hZChfcmVmMykgewogICAgICB2YXIgc3RhdGUgPSBfcmVmMy5zdGF0ZSwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjMuZGlzcGF0Y2g7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHJlc29sdmUpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL2RiL2dldCcsIHsKICAgICAgICAgICAgICAgICAgICBkYk5hbWU6ICdzeXMnLAogICAgICAgICAgICAgICAgICAgIHBhdGg6ICd0cmFuc2l0aW9uLmFjdGl2ZScsCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBzZXR0aW5nLnRyYW5zaXRpb24uYWN0aXZlLAogICAgICAgICAgICAgICAgICAgIHVzZXI6IHRydWUKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgICAgLy8gZW5kCiAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:/实践/d2-admin-start-kit-master/src/store/modules/d2admin/modules/transition.js"],"names":["setting","namespaced","state","active","transition","actions","set","dispatch","Promise","resolve","dbName","path","value","user","root","load","defaultValue"],"mappings":";;;AAAA;AACA,OAAOA,OAAP,MAAoB,cAApB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,KAAK,EAAE;AACL;AACAC,IAAAA,MAAM,EAAEH,OAAO,CAACI,UAAR,CAAmBD;AAFtB,GAFM;AAMbE,EAAAA,OAAO,EAAE;AACP;;;;;AAKAC,IAAAA,GANO,qBAMmBH,MANnB,EAM2B;AAAA,UAA3BD,KAA2B,QAA3BA,KAA2B;AAAA,UAApBK,QAAoB,QAApBA,QAAoB;AAChC,aAAO,IAAIC,OAAJ;AAAA,4EAAY,iBAAMC,OAAN;AAAA;AAAA;AAAA;AAAA;AACjB;AACAP,kBAAAA,KAAK,CAACC,MAAN,GAAeA,MAAf,CAFiB,CAGjB;;AAHiB;AAAA,yBAIXI,QAAQ,CAAC,gBAAD,EAAmB;AAC/BG,oBAAAA,MAAM,EAAE,KADuB;AAE/BC,oBAAAA,IAAI,EAAE,mBAFyB;AAG/BC,oBAAAA,KAAK,EAAEV,KAAK,CAACC,MAHkB;AAI/BU,oBAAAA,IAAI,EAAE;AAJyB,mBAAnB,EAKX;AAAEC,oBAAAA,IAAI,EAAE;AAAR,mBALW,CAJG;;AAAA;AAUjB;AACAL,kBAAAA,OAAO;;AAXU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAZ;;AAAA;AAAA;AAAA;AAAA,UAAP;AAaD,KApBM;;AAqBP;;;;AAIAM,IAAAA,IAzBO,uBAyBoB;AAAA,UAAnBb,KAAmB,SAAnBA,KAAmB;AAAA,UAAZK,QAAY,SAAZA,QAAY;AACzB,aAAO,IAAIC,OAAJ;AAAA,4EAAY,kBAAMC,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAEIF,QAAQ,CAAC,gBAAD,EAAmB;AAC9CG,oBAAAA,MAAM,EAAE,KADsC;AAE9CC,oBAAAA,IAAI,EAAE,mBAFwC;AAG9CK,oBAAAA,YAAY,EAAEhB,OAAO,CAACI,UAAR,CAAmBD,MAHa;AAI9CU,oBAAAA,IAAI,EAAE;AAJwC,mBAAnB,EAK1B;AAAEC,oBAAAA,IAAI,EAAE;AAAR,mBAL0B,CAFZ;;AAAA;AAEjBZ,kBAAAA,KAAK,CAACC,MAFW;AAQjB;AACAM,kBAAAA,OAAO;;AATU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAZ;;AAAA;AAAA;AAAA;AAAA,UAAP;AAWD;AArCM;AANI,CAAf","sourcesContent":["// 设置文件\nimport setting from '@/setting.js'\n\nexport default {\n  namespaced: true,\n  state: {\n    // 是否开启页面过度动画\n    active: setting.transition.active\n  },\n  actions: {\n    /**\n     * @description 设置开启状态\n     * @param {Object} context\n     * @param {Boolean} active 新的状态\n     */\n    set ({ state, dispatch }, active) {\n      return new Promise(async resolve => {\n        // store 赋值\n        state.active = active\n        // 持久化\n        await dispatch('d2admin/db/set', {\n          dbName: 'sys',\n          path: 'transition.active',\n          value: state.active,\n          user: true\n        }, { root: true })\n        // end\n        resolve()\n      })\n    },\n    /**\n     * 从数据库读取页面过渡动画设置\n     * @param {Object} context\n     */\n    load ({ state, dispatch }) {\n      return new Promise(async resolve => {\n        // store 赋值\n        state.active = await dispatch('d2admin/db/get', {\n          dbName: 'sys',\n          path: 'transition.active',\n          defaultValue: setting.transition.active,\n          user: true\n        }, { root: true })\n        // end\n        resolve()\n      })\n    }\n  }\n}\n"]}]}