{"remainingRequest":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\thread-loader\\dist\\cjs.js!D:\\实践\\d2-admin-start-kit-master\\node_modules\\babel-loader\\lib\\index.js!D:\\实践\\d2-admin-start-kit-master\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\实践\\d2-admin-start-kit-master\\src\\store\\modules\\d2admin\\modules\\page.js","dependencies":[{"path":"D:\\实践\\d2-admin-start-kit-master\\src\\store\\modules\\d2admin\\modules\\page.js","mtime":1587908413000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\实践\\d2-admin-start-kit-master\\node_modules\\eslint-loader\\index.js","mtime":1588755592739}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NUI5RVx1OERGNS9kMi1hZG1pbi1zdGFydC1raXQtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgY2xvbmVEZWVwLCB1bmlxLCBnZXQgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHNldHRpbmcgZnJvbSAnQC9zZXR0aW5nLmpzJzsgLy8g5Yik5a6a5piv5ZCm6ZyA6KaB57yT5a2YCgp2YXIgaXNLZWVwQWxpdmUgPSBmdW5jdGlvbiBpc0tlZXBBbGl2ZShkYXRhKSB7CiAgcmV0dXJuIGdldChkYXRhLCAnbWV0YS5jYWNoZScsIGZhbHNlKTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICAvLyDlj6/ku6XlnKjlpJrpobUgdGFiIOaooeW8j+S4i+aYvuekuueahOmhtemdogogICAgcG9vbDogW10sCiAgICAvLyDlvZPliY3mmL7npLrnmoTlpJrpobXpnaLliJfooagKICAgIG9wZW5lZDogZ2V0KHNldHRpbmcsICdwYWdlLm9wZW5lZCcsIFtdKSwKICAgIC8vIOW3sue7j+WKoOi9veWkmuagh+etvumhteaVsOaNriBodHRwczovL2dpdGh1Yi5jb20vZDItcHJvamVjdHMvZDItYWRtaW4vaXNzdWVzLzIwMQogICAgb3BlbmVkTG9hZGVkOiBmYWxzZSwKICAgIC8vIOW9k+WJjemhtemdogogICAgY3VycmVudDogJycsCiAgICAvLyDpnIDopoHnvJPlrZjnmoTpobXpnaIgbmFtZQogICAga2VlcEFsaXZlOiBbXQogIH0sCiAgYWN0aW9uczogewogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g56Gu6K6k5bey57uP5Yqg6L295aSa5qCH562+6aG15pWw5o2uIGh0dHBzOi8vZ2l0aHViLmNvbS9kMi1wcm9qZWN0cy9kMi1hZG1pbi9pc3N1ZXMvMjAxCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICovCiAgICBpc0xvYWRlZDogZnVuY3Rpb24gaXNMb2FkZWQoX3JlZikgewogICAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlOwogICAgICBpZiAoc3RhdGUub3BlbmVkTG9hZGVkKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChzdGF0ZS5vcGVuZWRMb2FkZWQpIHJlc29sdmUoY2xlYXJJbnRlcnZhbCh0aW1lcikpOwogICAgICAgIH0sIDEwKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICogQGNsYXNzIG9wZW5lZAogICAgICogQGRlc2NyaXB0aW9uIOS7juaMgeS5heWMluaVsOaNrui9veWFpeagh+etvumhteWIl+ihqAogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQKICAgICAqLwogICAgb3BlbmVkTG9hZDogZnVuY3Rpb24gb3BlbmVkTG9hZChfcmVmMikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgdmFsdWUsIHZhbGlkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjIuc3RhdGUsIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL2RiL2dldCcsIHsKICAgICAgICAgICAgICAgICAgZGJOYW1lOiAnc3lzJywKICAgICAgICAgICAgICAgICAgcGF0aDogJ3BhZ2Uub3BlbmVkJywKICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBzZXR0aW5nLnBhZ2Uub3BlbmVkLAogICAgICAgICAgICAgICAgICB1c2VyOiB0cnVlCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvLyDlnKjlpITnkIblh73mlbDkuK3ov5vooYzmlbDmja7kvJjljJYg6L+H5ruk5o6J546w5Zyo5bey57uP5aSx5pWI55qE6aG1562+5oiW6ICF5bey57uP5pS55Y+Y5LqG5L+h5oGv55qE6aG1562+CiAgICAgICAgICAgICAgICAvLyDku6UgZnVsbFBhdGgg5a2X5q615Li65YeGCiAgICAgICAgICAgICAgICAvLyDlpoLmnpzpobXpnaLov4flpJrnmoTor53lj6/og73pnIDopoHkvJjljJbnrpfms5UKICAgICAgICAgICAgICAgIC8vIHZhbGlkIOacieaViOWIl+ihqCAxLCAxLCAwLCAxID0+IOacieaViCwg5pyJ5pWILCDlpLHmlYgsIOacieaViAogICAgICAgICAgICAgICAgdmFsaWQgPSBbXTsgLy8g5aSE55CG5pWw5o2uCgogICAgICAgICAgICAgICAgc3RhdGUub3BlbmVkID0gdmFsdWUubWFwKGZ1bmN0aW9uIChvcGVuZWQpIHsKICAgICAgICAgICAgICAgICAgLy8g5b+955Wl6aaW6aG1CiAgICAgICAgICAgICAgICAgIGlmIChvcGVuZWQuZnVsbFBhdGggPT09ICcvaW5kZXgnKSB7CiAgICAgICAgICAgICAgICAgICAgdmFsaWQucHVzaCgxKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3BlbmVkOwogICAgICAgICAgICAgICAgICB9IC8vIOWwneivleWcqOaJgOacieeahOaUr+aMgeWkmuagh+etvumhteeahOmhtemdoumHjOaJvuWIsCBuYW1lIOWMuemFjeeahOmhtemdogoKCiAgICAgICAgICAgICAgICAgIHZhciBmaW5kID0gc3RhdGUucG9vbC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PT0gb3BlbmVkLm5hbWU7CiAgICAgICAgICAgICAgICAgIH0pOyAvLyDorrDlvZXmnInmlYjmiJbml6DmlYjkv6Hmga8KCiAgICAgICAgICAgICAgICAgIHZhbGlkLnB1c2goZmluZCA/IDEgOiAwKTsgLy8g6L+U5Zue5ZCI5bm25ZCO55qE5pWw5o2uIOaWsOeahOimhuebluaXp+eahAogICAgICAgICAgICAgICAgICAvLyDmlrDnmoTmlbDmja7kuK3kuIDoiKzkuI3kvJrmkLrluKYgcGFyYW1zIOWSjCBxdWVyeSwg5omA5Lul5pen55qE5Y+C5pWw5Lya55WZ5a2YCgogICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgb3BlbmVkLCBmaW5kKTsKICAgICAgICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAob3BlbmVkLCBpbmRleCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRbaW5kZXhdID09PSAxOwogICAgICAgICAgICAgICAgfSk7IC8vIOagh+iusOW3sue7j+WKoOi9veWkmuagh+etvumhteaVsOaNriBodHRwczovL2dpdGh1Yi5jb20vZDItcHJvamVjdHMvZDItYWRtaW4vaXNzdWVzLzIwMQoKICAgICAgICAgICAgICAgIHN0YXRlLm9wZW5lZExvYWRlZCA9IHRydWU7IC8vIOagueaNriBvcGVuZWQg5pWw5o2u55Sf5oiQ57yT5a2Y6K6+572uCgogICAgICAgICAgICAgICAgY29tbWl0KCdrZWVwQWxpdmVSZWZyZXNoJyk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDlsIYgb3BlbmVkIOWxnuaAp+i1i+WAvOW5tuaMgeS5heWMliDlnKjov5nkuYvliY3or7flhYjnoa7kv53lt7Lnu4/mm7TmlrDkuoYgc3RhdGUub3BlbmVkCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICovCiAgICBvcGVuZWQyZGI6IGZ1bmN0aW9uIG9wZW5lZDJkYihfcmVmMykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgc3RhdGUsIGRpc3BhdGNoOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlLCBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoOwogICAgICAgICAgICAgICAgLy8g6K6+572u5pWw5o2uCiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnZDJhZG1pbi9kYi9zZXQnLCB7CiAgICAgICAgICAgICAgICAgIGRiTmFtZTogJ3N5cycsCiAgICAgICAgICAgICAgICAgIHBhdGg6ICdwYWdlLm9wZW5lZCcsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdGF0ZS5vcGVuZWQsCiAgICAgICAgICAgICAgICAgIHVzZXI6IHRydWUKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKioKICAgICAqIEBjbGFzcyBvcGVuZWQKICAgICAqIEBkZXNjcmlwdGlvbiDmm7TmlrDpobXpnaLliJfooajkuIrnmoTmn5DkuIDpobkKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCB7IGluZGV4LCBwYXJhbXMsIHF1ZXJ5LCBmdWxsUGF0aCB9IOi3r+eUseS/oeaBrwogICAgICovCiAgICBvcGVuZWRVcGRhdGU6IGZ1bmN0aW9uIG9wZW5lZFVwZGF0ZShfcmVmNCwgX3JlZjUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBjb21taXQsIGRpc3BhdGNoLCBpbmRleCwgcGFyYW1zLCBxdWVyeSwgZnVsbFBhdGgsIHBhZ2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGUsIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmNC5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIGluZGV4ID0gX3JlZjUuaW5kZXgsIHBhcmFtcyA9IF9yZWY1LnBhcmFtcywgcXVlcnkgPSBfcmVmNS5xdWVyeSwgZnVsbFBhdGggPSBfcmVmNS5mdWxsUGF0aDsKICAgICAgICAgICAgICAgIC8vIOabtOaWsOmhtemdouWIl+ihqOafkOS4gOmhuQogICAgICAgICAgICAgICAgcGFnZSA9IHN0YXRlLm9wZW5lZFtpbmRleF07CiAgICAgICAgICAgICAgICBwYWdlLnBhcmFtcyA9IHBhcmFtcyB8fCBwYWdlLnBhcmFtczsKICAgICAgICAgICAgICAgIHBhZ2UucXVlcnkgPSBxdWVyeSB8fCBwYWdlLnF1ZXJ5OwogICAgICAgICAgICAgICAgcGFnZS5mdWxsUGF0aCA9IGZ1bGxQYXRoIHx8IHBhZ2UuZnVsbFBhdGg7CiAgICAgICAgICAgICAgICBzdGF0ZS5vcGVuZWQuc3BsaWNlKGluZGV4LCAxLCBwYWdlKTsgLy8g5oyB5LmF5YyWCgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdvcGVuZWQyZGInKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qKgogICAgICogQGNsYXNzIG9wZW5lZAogICAgICogQGRlc2NyaXB0aW9uIOmHjeaOkumhtemdouWIl+ihqOS4iueahOafkOS4gOmhuQogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIHsgb2xkSW5kZXgsIG5ld0luZGV4IH0g5L2N572u5L+h5oGvCiAgICAgKi8KICAgIG9wZW5lZFNvcnQ6IGZ1bmN0aW9uIG9wZW5lZFNvcnQoX3JlZjYsIF9yZWY3KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgb2xkSW5kZXgsIG5ld0luZGV4LCBwYWdlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY2LnN0YXRlLCBjb21taXQgPSBfcmVmNi5jb21taXQsIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgICBvbGRJbmRleCA9IF9yZWY3Lm9sZEluZGV4LCBuZXdJbmRleCA9IF9yZWY3Lm5ld0luZGV4OwogICAgICAgICAgICAgICAgLy8g6YeN5o6S6aG16Z2i5YiX6KGo5p+Q5LiA6aG5CiAgICAgICAgICAgICAgICBwYWdlID0gc3RhdGUub3BlbmVkW29sZEluZGV4XTsKICAgICAgICAgICAgICAgIHN0YXRlLm9wZW5lZC5zcGxpY2Uob2xkSW5kZXgsIDEpOwogICAgICAgICAgICAgICAgc3RhdGUub3BlbmVkLnNwbGljZShuZXdJbmRleCwgMCwgcGFnZSk7IC8vIOaMgeS5heWMlgoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnb3BlbmVkMmRiJyk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKioKICAgICAqIEBjbGFzcyBvcGVuZWQKICAgICAqIEBkZXNjcmlwdGlvbiDmlrDlop7kuIDkuKogdGFnICjmiZPlvIDkuIDkuKrpobXpnaIpCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgbmV3IHRhZyBpbmZvCiAgICAgKi8KICAgIGFkZDogZnVuY3Rpb24gYWRkKF9yZWY4LCBfcmVmOSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2gsIHRhZywgcGFyYW1zLCBxdWVyeSwgZnVsbFBhdGgsIG5ld1RhZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmOC5zdGF0ZSwgY29tbWl0ID0gX3JlZjguY29tbWl0LCBkaXNwYXRjaCA9IF9yZWY4LmRpc3BhdGNoOwogICAgICAgICAgICAgICAgdGFnID0gX3JlZjkudGFnLCBwYXJhbXMgPSBfcmVmOS5wYXJhbXMsIHF1ZXJ5ID0gX3JlZjkucXVlcnksIGZ1bGxQYXRoID0gX3JlZjkuZnVsbFBhdGg7CiAgICAgICAgICAgICAgICAvLyDorr7nva7mlrDnmoQgdGFnIOWcqOaWsOaJk+W8gOS4gOS4quS7peWJjeayoeaJk+W8gOi/h+eahOmhtemdouaXtuS9v+eUqAogICAgICAgICAgICAgICAgbmV3VGFnID0gdGFnOwogICAgICAgICAgICAgICAgbmV3VGFnLnBhcmFtcyA9IHBhcmFtcyB8fCBuZXdUYWcucGFyYW1zOwogICAgICAgICAgICAgICAgbmV3VGFnLnF1ZXJ5ID0gcXVlcnkgfHwgbmV3VGFnLnF1ZXJ5OwogICAgICAgICAgICAgICAgbmV3VGFnLmZ1bGxQYXRoID0gZnVsbFBhdGggfHwgbmV3VGFnLmZ1bGxQYXRoOyAvLyDmt7vliqDov5vlvZPliY3mmL7npLrnmoTpobXpnaLmlbDnu4QKCiAgICAgICAgICAgICAgICBzdGF0ZS5vcGVuZWQucHVzaChuZXdUYWcpOyAvLyDlpoLmnpzov5nkuKrpobXpnaLpnIDopoHnvJPlrZgg5bCG5YW25re75Yqg5Yiw57yT5a2Y6K6+572uCgogICAgICAgICAgICAgICAgaWYgKGlzS2VlcEFsaXZlKG5ld1RhZykpIGNvbW1pdCgna2VlcEFsaXZlUHVzaCcsIHRhZy5uYW1lKTsgLy8g5oyB5LmF5YyWCgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnb3BlbmVkMmRiJyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBAY2xhc3MgY3VycmVudAogICAgICogQGRlc2NyaXB0aW9uIOaJk+W8gOS4gOS4quaWsOeahOmhtemdogogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIOS7jui3r+eUsemSqeWtkOeahCB0byDlr7nosaHkuIrojrflj5YgeyBuYW1lLCBwYXJhbXMsIHF1ZXJ5LCBmdWxsUGF0aCwgbWV0YSB9IOi3r+eUseS/oeaBrwogICAgICovCiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKF9yZWYxMCwgX3JlZjExKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgbmFtZSwgcGFyYW1zLCBxdWVyeSwgZnVsbFBhdGgsIG1ldGEsIG9wZW5lZCwgcGFnZU9wZW5kSW5kZXgsIHBhZ2VPcGVuZCwgcGFnZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmMTAuc3RhdGUsIGNvbW1pdCA9IF9yZWYxMC5jb21taXQsIGRpc3BhdGNoID0gX3JlZjEwLmRpc3BhdGNoOwogICAgICAgICAgICAgICAgbmFtZSA9IF9yZWYxMS5uYW1lLCBwYXJhbXMgPSBfcmVmMTEucGFyYW1zLCBxdWVyeSA9IF9yZWYxMS5xdWVyeSwgZnVsbFBhdGggPSBfcmVmMTEuZnVsbFBhdGgsIG1ldGEgPSBfcmVmMTEubWV0YTsKICAgICAgICAgICAgICAgIC8vIOW3sue7j+aJk+W8gOeahOmhtemdogogICAgICAgICAgICAgICAgb3BlbmVkID0gc3RhdGUub3BlbmVkOyAvLyDliKTmlq3mraTpobXpnaLmmK/lkKblt7Lnu4/miZPlvIAg5bm25LiU6K6w5b2V5L2N572uCgogICAgICAgICAgICAgICAgcGFnZU9wZW5kSW5kZXggPSAwOwogICAgICAgICAgICAgICAgcGFnZU9wZW5kID0gb3BlbmVkLmZpbmQoZnVuY3Rpb24gKHBhZ2UsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgIHZhciBzYW1lID0gcGFnZS5mdWxsUGF0aCA9PT0gZnVsbFBhdGg7CiAgICAgICAgICAgICAgICAgIHBhZ2VPcGVuZEluZGV4ID0gc2FtZSA/IGluZGV4IDogcGFnZU9wZW5kSW5kZXg7CiAgICAgICAgICAgICAgICAgIHJldHVybiBzYW1lOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCFwYWdlT3BlbmQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdvcGVuZWRVcGRhdGUnLCB7CiAgICAgICAgICAgICAgICAgIGluZGV4OiBwYWdlT3BlbmRJbmRleCwKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMsCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSwKICAgICAgICAgICAgICAgICAgZnVsbFBhdGg6IGZ1bGxQYXRoCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgLy8g6aG16Z2i5Lul5YmN5rKh5pyJ5omT5byA6L+HCiAgICAgICAgICAgICAgICBwYWdlID0gc3RhdGUucG9vbC5maW5kKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0Lm5hbWUgPT09IG5hbWU7CiAgICAgICAgICAgICAgICB9KTsgLy8g5aaC5p6c6L+Z6YeM5rKh5pyJ5om+5YiwIHBhZ2Ug5Luj6KGo6L+Z5Liq6Lev55Sx6Jm954S25Zyo5qGG5p625YaFIOS9huaYr+S4jeWPguS4juagh+etvumhteaYvuekugoKICAgICAgICAgICAgICAgIGlmICghcGFnZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdhZGQnLCB7CiAgICAgICAgICAgICAgICAgIHRhZzogT2JqZWN0LmFzc2lnbih7fSwgcGFnZSksCiAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnksCiAgICAgICAgICAgICAgICAgIGZ1bGxQYXRoOiBmdWxsUGF0aAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAvLyDlpoLmnpzov5nkuKrpobXpnaLpnIDopoHnvJPlrZgg5bCG5YW25re75Yqg5Yiw57yT5a2Y6K6+572uCiAgICAgICAgICAgICAgICBpZiAoaXNLZWVwQWxpdmUoewogICAgICAgICAgICAgICAgICBtZXRhOiBtZXRhCiAgICAgICAgICAgICAgICB9KSkgY29tbWl0KCdrZWVwQWxpdmVQdXNoJywgbmFtZSk7IC8vIOiuvue9ruW9k+WJjeeahOmhtemdogoKICAgICAgICAgICAgICAgIGNvbW1pdCgnY3VycmVudFNldCcsIGZ1bGxQYXRoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKioKICAgICAqIEBjbGFzcyBvcGVuZWQKICAgICAqIEBkZXNjcmlwdGlvbiDlhbPpl63kuIDkuKogdGFnICjlhbPpl63kuIDkuKrpobXpnaIpCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgeyB0YWdOYW1lOiDopoHlhbPpl63nmoTmoIfnrb7lkI3lrZcgfQogICAgICovCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoX3JlZjEyLCBfcmVmMTMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBjb21taXQsIGRpc3BhdGNoLCB0YWdOYW1lLCBuZXdQYWdlLCBpc0N1cnJlbnQsIGxlbiwgaSwgaW5kZXgsIF9uZXdQYWdlLCBfbmV3UGFnZSRuYW1lLCBuYW1lLCBfbmV3UGFnZSRwYXJhbXMsIHBhcmFtcywgX25ld1BhZ2UkcXVlcnksIHF1ZXJ5LCByb3V0ZXJPYmo7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYxMi5zdGF0ZSwgY29tbWl0ID0gX3JlZjEyLmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMTIuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgICB0YWdOYW1lID0gX3JlZjEzLnRhZ05hbWU7CiAgICAgICAgICAgICAgICAvLyDpooTlrprkuIvkuKrmlrDpobXpnaIKICAgICAgICAgICAgICAgIG5ld1BhZ2UgPSB7fTsKICAgICAgICAgICAgICAgIGlzQ3VycmVudCA9IHN0YXRlLmN1cnJlbnQgPT09IHRhZ05hbWU7IC8vIOWmguaenOWFs+mXreeahOmhtemdouWwseaYr+W9k+WJjeaYvuekuueahOmhtemdogoKICAgICAgICAgICAgICAgIGlmICghaXNDdXJyZW50KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIOWOu+aJvuS4gOS4quaWsOeahOmhtemdogogICAgICAgICAgICAgICAgbGVuID0gc3RhdGUub3BlbmVkLmxlbmd0aDsKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpZiAoIShpIDwgbGVuKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShzdGF0ZS5vcGVuZWRbaV0uZnVsbFBhdGggPT09IHRhZ05hbWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG5ld1BhZ2UgPSBpIDwgbGVuIC0gMSA/IHN0YXRlLm9wZW5lZFtpICsgMV0gOiBzdGF0ZS5vcGVuZWRbaSAtIDFdOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoImJyZWFrIiwgMTQpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAvLyDmib7liLDov5nkuKrpobXpnaLlnKjlt7Lnu4/miZPlvIDnmoTmlbDmja7ph4zmmK/nrKzlh6DkuKoKICAgICAgICAgICAgICAgIGluZGV4ID0gc3RhdGUub3BlbmVkLmZpbmRJbmRleChmdW5jdGlvbiAocGFnZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gcGFnZS5mdWxsUGF0aCA9PT0gdGFnTmFtZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7CiAgICAgICAgICAgICAgICAgIC8vIOWmguaenOi/meS4qumhtemdouaYr+e8k+WtmOeahOmhtemdoiDlsIblhbblnKjnvJPlrZjorr7nva7kuK3liKDpmaQKICAgICAgICAgICAgICAgICAgY29tbWl0KCdrZWVwQWxpdmVSZW1vdmUnLCBzdGF0ZS5vcGVuZWRbaW5kZXhdLm5hbWUpOyAvLyDmm7TmlrDmlbDmja4g5Yig6Zmk5YWz6Zet55qE6aG16Z2iCgogICAgICAgICAgICAgICAgICBzdGF0ZS5vcGVuZWQuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgICAgIH0gLy8g5oyB5LmF5YyWCgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ29wZW5lZDJkYicpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgaWYgKCFpc0N1cnJlbnQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX25ld1BhZ2UgPSBuZXdQYWdlLCBfbmV3UGFnZSRuYW1lID0gX25ld1BhZ2UubmFtZSwgbmFtZSA9IF9uZXdQYWdlJG5hbWUgPT09IHZvaWQgMCA/ICdpbmRleCcgOiBfbmV3UGFnZSRuYW1lLCBfbmV3UGFnZSRwYXJhbXMgPSBfbmV3UGFnZS5wYXJhbXMsIHBhcmFtcyA9IF9uZXdQYWdlJHBhcmFtcyA9PT0gdm9pZCAwID8ge30gOiBfbmV3UGFnZSRwYXJhbXMsIF9uZXdQYWdlJHF1ZXJ5ID0gX25ld1BhZ2UucXVlcnksIHF1ZXJ5ID0gX25ld1BhZ2UkcXVlcnkgPT09IHZvaWQgMCA/IHt9IDogX25ld1BhZ2UkcXVlcnk7CiAgICAgICAgICAgICAgICByb3V0ZXJPYmogPSB7CiAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJvdXRlci5wdXNoKHJvdXRlck9iaik7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBAY2xhc3Mgb3BlbmVkCiAgICAgKiBAZGVzY3JpcHRpb24g5YWz6Zet5b2T5YmN5qCH562+5bem6L6555qE5qCH562+CiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgeyBwYWdlU2VsZWN0OiDlvZPliY3pgInkuK3nmoR0YWdOYW1lIH0KICAgICAqLwogICAgY2xvc2VMZWZ0OiBmdW5jdGlvbiBjbG9zZUxlZnQoX3JlZjE0KSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2gsIF9yZWYxNSwgcGFnZVNlbGVjdCwgcGFnZUFpbSwgY3VycmVudEluZGV4LCBpOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmMTQuc3RhdGUsIGNvbW1pdCA9IF9yZWYxNC5jb21taXQsIGRpc3BhdGNoID0gX3JlZjE0LmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX3JlZjE1ID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiB7fSwgcGFnZVNlbGVjdCA9IF9yZWYxNS5wYWdlU2VsZWN0OwogICAgICAgICAgICAgICAgcGFnZUFpbSA9IHBhZ2VTZWxlY3QgfHwgc3RhdGUuY3VycmVudDsKICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleCA9IDA7CiAgICAgICAgICAgICAgICBzdGF0ZS5vcGVuZWQuZm9yRWFjaChmdW5jdGlvbiAocGFnZSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgaWYgKHBhZ2UuZnVsbFBhdGggPT09IHBhZ2VBaW0pIGN1cnJlbnRJbmRleCA9IGluZGV4OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCEoY3VycmVudEluZGV4ID4gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaSA9IHN0YXRlLm9wZW5lZC5sZW5ndGggLSAxOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpZiAoIShpID49IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKHN0YXRlLm9wZW5lZFtpXS5uYW1lID09PSAnaW5kZXgnIHx8IGkgPj0gY3VycmVudEluZGV4KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgiY29udGludWUiLCAxMik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBjb21taXQoJ2tlZXBBbGl2ZVJlbW92ZScsIHN0YXRlLm9wZW5lZFtpXS5uYW1lKTsKICAgICAgICAgICAgICAgIHN0YXRlLm9wZW5lZC5zcGxpY2UoaSwgMSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBpLS07CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ29wZW5lZDJkYicpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgLy8g6K6+572u5b2T5YmN55qE6aG16Z2iCiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50ID0gcGFnZUFpbTsKCiAgICAgICAgICAgICAgICBpZiAoIShyb3V0ZXIuYXBwLiRyb3V0ZS5mdWxsUGF0aCAhPT0gcGFnZUFpbSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIHJldHVybiByb3V0ZXIucHVzaChwYWdlQWltKTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKioKICAgICAqIEBjbGFzcyBvcGVuZWQKICAgICAqIEBkZXNjcmlwdGlvbiDlhbPpl63lvZPliY3moIfnrb7lj7PovrnnmoTmoIfnrb4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCB7IHBhZ2VTZWxlY3Q6IOW9k+WJjemAieS4reeahHRhZ05hbWUgfQogICAgICovCiAgICBjbG9zZVJpZ2h0OiBmdW5jdGlvbiBjbG9zZVJpZ2h0KF9yZWYxNikgewogICAgICB2YXIgX2FyZ3VtZW50czIgPSBhcmd1bWVudHM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgX3JlZjE3LCBwYWdlU2VsZWN0LCBwYWdlQWltLCBjdXJyZW50SW5kZXgsIGk7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYxNi5zdGF0ZSwgY29tbWl0ID0gX3JlZjE2LmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMTYuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgICBfcmVmMTcgPSBfYXJndW1lbnRzMi5sZW5ndGggPiAxICYmIF9hcmd1bWVudHMyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlsxXSA6IHt9LCBwYWdlU2VsZWN0ID0gX3JlZjE3LnBhZ2VTZWxlY3Q7CiAgICAgICAgICAgICAgICBwYWdlQWltID0gcGFnZVNlbGVjdCB8fCBzdGF0ZS5jdXJyZW50OwogICAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gMDsKICAgICAgICAgICAgICAgIHN0YXRlLm9wZW5lZC5mb3JFYWNoKGZ1bmN0aW9uIChwYWdlLCBpbmRleCkgewogICAgICAgICAgICAgICAgICBpZiAocGFnZS5mdWxsUGF0aCA9PT0gcGFnZUFpbSkgY3VycmVudEluZGV4ID0gaW5kZXg7CiAgICAgICAgICAgICAgICB9KTsgLy8g5Yig6Zmk5omT5byA55qE6aG16Z2iIOW5tuWcqOe8k+WtmOiuvue9ruS4reWIoOmZpAoKICAgICAgICAgICAgICAgIGkgPSBzdGF0ZS5vcGVuZWQubGVuZ3RoIC0gMTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKCEoaSA+PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShzdGF0ZS5vcGVuZWRbaV0ubmFtZSA9PT0gJ2luZGV4JyB8fCBjdXJyZW50SW5kZXggPj0gaSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgiY29udGludWUiLCAxMSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGNvbW1pdCgna2VlcEFsaXZlUmVtb3ZlJywgc3RhdGUub3BlbmVkW2ldLm5hbWUpOwogICAgICAgICAgICAgICAgc3RhdGUub3BlbmVkLnNwbGljZShpLCAxKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGktLTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnb3BlbmVkMmRiJyk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICAvLyDorr7nva7lvZPliY3nmoTpobXpnaIKICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnQgPSBwYWdlQWltOwoKICAgICAgICAgICAgICAgIGlmICghKHJvdXRlci5hcHAuJHJvdXRlLmZ1bGxQYXRoICE9PSBwYWdlQWltKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIHJvdXRlci5wdXNoKHBhZ2VBaW0pOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qKgogICAgICogQGNsYXNzIG9wZW5lZAogICAgICogQGRlc2NyaXB0aW9uIOWFs+mXreW9k+WJjea/gOa0u+S5i+WklueahCB0YWcKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCB7IHBhZ2VTZWxlY3Q6IOW9k+WJjemAieS4reeahHRhZ05hbWUgfQogICAgICovCiAgICBjbG9zZU90aGVyOiBmdW5jdGlvbiBjbG9zZU90aGVyKF9yZWYxOCkgewogICAgICB2YXIgX2FyZ3VtZW50czMgPSBhcmd1bWVudHM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2gsIF9yZWYxOSwgcGFnZVNlbGVjdCwgcGFnZUFpbSwgY3VycmVudEluZGV4LCBpOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjE4LnN0YXRlLCBjb21taXQgPSBfcmVmMTguY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYxOC5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9yZWYxOSA9IF9hcmd1bWVudHMzLmxlbmd0aCA+IDEgJiYgX2FyZ3VtZW50czNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHMzWzFdIDoge30sIHBhZ2VTZWxlY3QgPSBfcmVmMTkucGFnZVNlbGVjdDsKICAgICAgICAgICAgICAgIHBhZ2VBaW0gPSBwYWdlU2VsZWN0IHx8IHN0YXRlLmN1cnJlbnQ7CiAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXggPSAwOwogICAgICAgICAgICAgICAgc3RhdGUub3BlbmVkLmZvckVhY2goZnVuY3Rpb24gKHBhZ2UsIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgIGlmIChwYWdlLmZ1bGxQYXRoID09PSBwYWdlQWltKSBjdXJyZW50SW5kZXggPSBpbmRleDsKICAgICAgICAgICAgICAgIH0pOyAvLyDliKDpmaTmiZPlvIDnmoTpobXpnaLmlbDmja4g5bm25pu05paw57yT5a2Y6K6+572uCgogICAgICAgICAgICAgICAgaSA9IHN0YXRlLm9wZW5lZC5sZW5ndGggLSAxOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpZiAoIShpID49IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShzdGF0ZS5vcGVuZWRbaV0ubmFtZSA9PT0gJ2luZGV4JyB8fCBjdXJyZW50SW5kZXggPT09IGkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgiY29udGludWUiLCAxMSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGNvbW1pdCgna2VlcEFsaXZlUmVtb3ZlJywgc3RhdGUub3BlbmVkW2ldLm5hbWUpOwogICAgICAgICAgICAgICAgc3RhdGUub3BlbmVkLnNwbGljZShpLCAxKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGktLTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdvcGVuZWQyZGInKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIC8vIOiuvue9ruaWsOeahOmhtemdogogICAgICAgICAgICAgICAgc3RhdGUuY3VycmVudCA9IHBhZ2VBaW07CgogICAgICAgICAgICAgICAgaWYgKCEocm91dGVyLmFwcC4kcm91dGUuZnVsbFBhdGggIT09IHBhZ2VBaW0pKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiByb3V0ZXIucHVzaChwYWdlQWltKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qKgogICAgICogQGNsYXNzIG9wZW5lZAogICAgICogQGRlc2NyaXB0aW9uIOWFs+mXreaJgOaciSB0YWcKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKi8KICAgIGNsb3NlQWxsOiBmdW5jdGlvbiBjbG9zZUFsbChfcmVmMjApIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjIwLnN0YXRlLCBjb21taXQgPSBfcmVmMjAuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYyMC5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIGkgPSBzdGF0ZS5vcGVuZWQubGVuZ3RoIC0gMTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgaWYgKCEoaSA+PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoc3RhdGUub3BlbmVkW2ldLm5hbWUgPT09ICdpbmRleCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdCgiY29udGludWUiLCA3KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY29tbWl0KCdrZWVwQWxpdmVSZW1vdmUnLCBzdGF0ZS5vcGVuZWRbaV0ubmFtZSk7CiAgICAgICAgICAgICAgICBzdGF0ZS5vcGVuZWQuc3BsaWNlKGksIDEpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpLS07CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnb3BlbmVkMmRiJyk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBpZiAoIShyb3V0ZXIuYXBwLiRyb3V0ZS5uYW1lICE9PSAnaW5kZXgnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaW5kZXgnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIC8qKgogICAgICogQGNsYXNzIGtlZXBBbGl2ZQogICAgICogQGRlc2NyaXB0aW9uIOS7juW3sue7j+aJk+W8gOeahOmhtemdouiusOW9leS4reabtOaWsOmcgOimgee8k+WtmOeahOmhtemdouiusOW9lQogICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIHN0YXRlCiAgICAgKi8KICAgIGtlZXBBbGl2ZVJlZnJlc2g6IGZ1bmN0aW9uIGtlZXBBbGl2ZVJlZnJlc2goc3RhdGUpIHsKICAgICAgc3RhdGUua2VlcEFsaXZlID0gc3RhdGUub3BlbmVkLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpc0tlZXBBbGl2ZShpdGVtKTsKICAgICAgfSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUubmFtZTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICogQGRlc2NyaXB0aW9uIOWIoOmZpOS4gOS4qumhtemdoueahOe8k+WtmOiuvue9rgogICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIHN0YXRlCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBuYW1lCiAgICAgKi8KICAgIGtlZXBBbGl2ZVJlbW92ZTogZnVuY3Rpb24ga2VlcEFsaXZlUmVtb3ZlKHN0YXRlLCBuYW1lKSB7CiAgICAgIHZhciBsaXN0ID0gY2xvbmVEZWVwKHN0YXRlLmtlZXBBbGl2ZSk7CiAgICAgIHZhciBpbmRleCA9IGxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IG5hbWU7CiAgICAgIH0pOwoKICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICBzdGF0ZS5rZWVwQWxpdmUgPSBsaXN0OwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogQGRlc2NyaXB0aW9uIOWinuWKoOS4gOS4qumhtemdoueahOe8k+WtmOiuvue9rgogICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIHN0YXRlCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBuYW1lCiAgICAgKi8KICAgIGtlZXBBbGl2ZVB1c2g6IGZ1bmN0aW9uIGtlZXBBbGl2ZVB1c2goc3RhdGUsIG5hbWUpIHsKICAgICAgdmFyIGtlZXAgPSBjbG9uZURlZXAoc3RhdGUua2VlcEFsaXZlKTsKICAgICAga2VlcC5wdXNoKG5hbWUpOwogICAgICBzdGF0ZS5rZWVwQWxpdmUgPSB1bmlxKGtlZXApOwogICAgfSwKCiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDmuIXnqbrpobXpnaLnvJPlrZjorr7nva4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBzdGF0ZQogICAgICovCiAgICBrZWVwQWxpdmVDbGVhbjogZnVuY3Rpb24ga2VlcEFsaXZlQ2xlYW4oc3RhdGUpIHsKICAgICAgc3RhdGUua2VlcEFsaXZlID0gW107CiAgICB9LAoKICAgIC8qKgogICAgICogQGNsYXNzIGN1cnJlbnQKICAgICAqIEBkZXNjcmlwdGlvbiDorr7nva7lvZPliY3mv4DmtLvnmoTpobXpnaIgZnVsbFBhdGgKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBzdGF0ZQogICAgICogQHBhcmFtIHtTdHJpbmd9IGZ1bGxQYXRoIG5ldyBmdWxsUGF0aAogICAgICovCiAgICBjdXJyZW50U2V0OiBmdW5jdGlvbiBjdXJyZW50U2V0KHN0YXRlLCBmdWxsUGF0aCkgewogICAgICBzdGF0ZS5jdXJyZW50ID0gZnVsbFBhdGg7CiAgICB9LAoKICAgIC8qKgogICAgICogQGNsYXNzIHBvb2wKICAgICAqIEBkZXNjcmlwdGlvbiDkv53lrZggcG9vbCAo5YCZ6YCJ5rGgKQogICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIHN0YXRlCiAgICAgKiBAcGFyYW0ge0FycmF5fSByb3V0ZXMgcm91dGVzCiAgICAgKi8KICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoc3RhdGUsIHJvdXRlcykgewogICAgICB2YXIgcG9vbCA9IFtdOwoKICAgICAgdmFyIHB1c2ggPSBmdW5jdGlvbiBwdXNoKHJvdXRlcykgewogICAgICAgIHJvdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgICAgICAgaWYgKHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgcHVzaChyb3V0ZS5jaGlsZHJlbik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoIXJvdXRlLmhpZGRlbikgewogICAgICAgICAgICAgIHZhciBtZXRhID0gcm91dGUubWV0YSwKICAgICAgICAgICAgICAgICAgbmFtZSA9IHJvdXRlLm5hbWUsCiAgICAgICAgICAgICAgICAgIHBhdGggPSByb3V0ZS5wYXRoOwogICAgICAgICAgICAgIHBvb2wucHVzaCh7CiAgICAgICAgICAgICAgICBtZXRhOiBtZXRhLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgcHVzaChyb3V0ZXMpOwogICAgICBzdGF0ZS5wb29sID0gcG9vbDsKICAgIH0KICB9Cn07"},null]}