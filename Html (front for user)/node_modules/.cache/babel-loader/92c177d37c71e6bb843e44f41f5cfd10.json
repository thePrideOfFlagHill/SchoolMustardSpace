{"remainingRequest":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\src\\store\\modules\\d2admin\\modules\\color.js","dependencies":[{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\src\\store\\modules\\d2admin\\modules\\color.js","mtime":1590487885000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\58215\\Desktop\\SchoolMustardSpace\\Html (front for user)\\schoolSpace\\node_modules\\eslint-loader\\index.js","mtime":1588755592739}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovVXNlcnMvNTgyMTUvRGVza3RvcC9TY2hvb2xNdXN0YXJkU3BhY2UvSHRtbCAoZnJvbnQgZm9yIHVzZXIpL3NjaG9vbFNwYWNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzU4MjE1L0Rlc2t0b3AvU2Nob29sTXVzdGFyZFNwYWNlL0h0bWwgKGZyb250IGZvciB1c2VyKS9zY2hvb2xTcGFjZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBjbGllbnQgZnJvbSAnd2VicGFjay10aGVtZS1jb2xvci1yZXBsYWNlci9jbGllbnQnOwppbXBvcnQgZm9yRWxlbWVudFVJIGZyb20gJ3dlYnBhY2stdGhlbWUtY29sb3ItcmVwbGFjZXIvZm9yRWxlbWVudFVJJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIC8vIOminOiJsgogICAgdmFsdWU6IHByb2Nlc3MuZW52LlZVRV9BUFBfRUxFTUVOVF9DT0xPUgogIH0sCiAgYWN0aW9uczogewogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb24g6K6+572u6aKc6ImyCiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dAogICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIOWwuuWvuAogICAgICovCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChfcmVmLCBjb2xvcikgewogICAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLAogICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzb2x2ZSkgewogICAgICAgICAgdmFyIG9sZDsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgLy8g6K6w5b2V5LiK5Liq5YC8CiAgICAgICAgICAgICAgICAgIG9sZCA9IHN0YXRlLnZhbHVlOyAvLyBzdG9yZSDotYvlgLwKCiAgICAgICAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gY29sb3IgfHwgcHJvY2Vzcy5lbnYuVlVFX0FQUF9FTEVNRU5UX0NPTE9SOyAvLyDmjIHkuYXljJYKCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2QyYWRtaW4vZGIvc2V0JywgewogICAgICAgICAgICAgICAgICAgIGRiTmFtZTogJ3N5cycsCiAgICAgICAgICAgICAgICAgICAgcGF0aDogJ2NvbG9yLnZhbHVlJywKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3RhdGUudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZQogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIC8vIOW6lOeUqAogICAgICAgICAgICAgICAgICBjb21taXQoJ2FwcGx5JywgewogICAgICAgICAgICAgICAgICAgIG9sZENvbG9yOiBvbGQsCiAgICAgICAgICAgICAgICAgICAgbmV3Q29sb3I6IHN0YXRlLnZhbHVlCiAgICAgICAgICAgICAgICAgIH0pOyAvLyBlbmQKCiAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSwKCiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDku47mjIHkuYXljJbmlbDmja7or7vlj5bpopzoibLorr7nva4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKi8KICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoX3JlZjMpIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZjMuc3RhdGUsCiAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoLAogICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihyZXNvbHZlKSB7CiAgICAgICAgICB2YXIgb2xkOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgLy8g6K6w5b2V5LiK5Liq5YC8CiAgICAgICAgICAgICAgICAgIG9sZCA9IHN0YXRlLnZhbHVlOyAvLyBzdG9yZSDotYvlgLwKCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdkMmFkbWluL2RiL2dldCcsIHsKICAgICAgICAgICAgICAgICAgICBkYk5hbWU6ICdzeXMnLAogICAgICAgICAgICAgICAgICAgIHBhdGg6ICdjb2xvci52YWx1ZScsCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBwcm9jZXNzLmVudi5WVUVfQVBQX0VMRU1FTlRfQ09MT1IsCiAgICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZQogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICAgIC8vIOW6lOeUqAogICAgICAgICAgICAgICAgICBjb21taXQoJ2FwcGx5JywgewogICAgICAgICAgICAgICAgICAgIG9sZENvbG9yOiBvbGQsCiAgICAgICAgICAgICAgICAgICAgbmV3Q29sb3I6IHN0YXRlLnZhbHVlCiAgICAgICAgICAgICAgICAgIH0pOyAvLyBlbmQKCiAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbiDlsIYgdnVleCDkuK3nmoTkuLvpopjpopzoibLorr7nva7lupTnlKjliLDns7vnu5/kuK0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZCBvbGRDb2xvciB7U3RyaW5nfSDml6fnmoTpopzoibIKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIG5ld0NvbG9yIHtTdHJpbmd9IOaWsOminOiJsgogICAgICovCiAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoc3RhdGUsIF9yZWY1KSB7CiAgICAgIHZhciBvbGRDb2xvciA9IF9yZWY1Lm9sZENvbG9yLAogICAgICAgICAgbmV3Q29sb3IgPSBfcmVmNS5uZXdDb2xvcjsKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgb2xkQ29sb3JzOiBfdG9Db25zdW1hYmxlQXJyYXkoZm9yRWxlbWVudFVJLmdldEVsZW1lbnRVSVNlcmllcyhvbGRDb2xvcikpLAogICAgICAgIG5ld0NvbG9yczogX3RvQ29uc3VtYWJsZUFycmF5KGZvckVsZW1lbnRVSS5nZXRFbGVtZW50VUlTZXJpZXMobmV3Q29sb3IpKQogICAgICB9OwogICAgICBjbGllbnQuY2hhbmdlci5jaGFuZ2VDb2xvcihvcHRpb25zKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:/Users/58215/Desktop/SchoolMustardSpace/Html (front for user)/schoolSpace/src/store/modules/d2admin/modules/color.js"],"names":["client","forElementUI","namespaced","state","value","process","env","VUE_APP_ELEMENT_COLOR","actions","set","color","dispatch","commit","Promise","resolve","old","dbName","path","user","root","oldColor","newColor","load","defaultValue","mutations","apply","options","oldColors","getElementUISeries","newColors","changer","changeColor"],"mappings":"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","sourcesContent":["import client from 'webpack-theme-color-replacer/client'\nimport forElementUI from 'webpack-theme-color-replacer/forElementUI'\n\nexport default {\n  namespaced: true,\n  state: {\n    // 颜色\n    value: process.env.VUE_APP_ELEMENT_COLOR\n  },\n  actions: {\n    /**\n     * @description 设置颜色\n     * @param {Object} context\n     * @param {String} color 尺寸\n     */\n    set ({ state, dispatch, commit }, color) {\n      return new Promise(async resolve => {\n        // 记录上个值\n        const old = state.value\n        // store 赋值\n        state.value = color || process.env.VUE_APP_ELEMENT_COLOR\n        // 持久化\n        await dispatch('d2admin/db/set', {\n          dbName: 'sys',\n          path: 'color.value',\n          value: state.value,\n          user: true\n        }, { root: true })\n        // 应用\n        commit('apply', {\n          oldColor: old,\n          newColor: state.value\n        })\n        // end\n        resolve()\n      })\n    },\n    /**\n     * @description 从持久化数据读取颜色设置\n     * @param {Object} context\n     */\n    load ({ state, dispatch, commit }) {\n      return new Promise(async resolve => {\n        // 记录上个值\n        const old = state.value\n        // store 赋值\n        state.value = await dispatch('d2admin/db/get', {\n          dbName: 'sys',\n          path: 'color.value',\n          defaultValue: process.env.VUE_APP_ELEMENT_COLOR,\n          user: true\n        }, { root: true })\n        // 应用\n        commit('apply', {\n          oldColor: old,\n          newColor: state.value\n        })\n        // end\n        resolve()\n      })\n    }\n  },\n  mutations: {\n    /**\n     * @description 将 vuex 中的主题颜色设置应用到系统中\n     * @param {Object} context\n     * @param {Object} payload oldColor {String} 旧的颜色\n     * @param {Object} payload newColor {String} 新颜色\n     */\n    apply (state, { oldColor, newColor }) {\n      var options = {\n        oldColors: [...forElementUI.getElementUISeries(oldColor)],\n        newColors: [...forElementUI.getElementUISeries(newColor)]\n      }\n      client.changer.changeColor(options)\n    }\n  }\n}\n"]}]}